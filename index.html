<!DOCTYPE html>
<html>
<head>
<title>–ò–≥—Ä–∞ "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ"</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  font-family: 'Arial', sans-serif;
  background-color: #181818;
  color: #eee;
  text-align: center;
  padding: 20px;
  margin: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}

h1 {
  color: #bb86fc;
  margin-bottom: 20px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

p {
  margin-bottom: 15px;
}

#message {
  font-size: 1.2em;
  font-weight: bold;
  color: #bb86fc;
  margin-top: 20px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

#attempts {
  font-size: 1em;
  margin-top: 10px;
}

input[type="number"] {
  padding: 12px 16px;
  font-size: 18px;
  border: 2px solid #3700b3;
  border-radius: 8px;
  background-color: #212121;
  color: #fff;
  width: 200px;
  margin-bottom: 20px;
  outline: none;
  transition: border-color 0.3s ease;
}

input[type="number"]:focus {
  border-color: #bb86fc;
}

button {
  padding: 14px 32px;
  font-size: 18px;
  background-color: #3700b3;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s ease, transform 0.1s ease;
  margin-top: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

button:hover {
  background-color: #6200ea;
}

button:active {
  transform: translateY(1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

button:disabled {
  background-color: #555;
  cursor: not-allowed;
  box-shadow: none;
}

/* Difficulty selection */
#difficulty-selection {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

#difficulty-selection button {
  margin: 0 10px;
  padding: 10px 20px;
  font-size: 16px;
}

/* Last guesses display */
#last-guesses {
  margin-top: 20px;
  font-size: 1em;
  color: #9fa8da;
}

/* Additional controls */
#additional-controls {
  margin-top: 15px;
  display: flex;
  justify-content: center;
}

#additional-controls button {
  margin: 0 5px;
  padding: 8px 16px;
  font-size: 14px;
}

/* Achievements */
#achievements {
    margin-top: 20px;
    font-size: 1em;
    color: #a5d6a7;
    display: none;
}

#achievements p {
    margin: 5px 0;
}

</style>
</head>
<body>

<h1>–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ</h1>
<p>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</p>

<div id="difficulty-selection">
  <button onclick="setDifficulty('easy')">–õ–µ–≥–∫–æ (1-10, 5 –ø–æ–ø—ã—Ç–æ–∫)</button>
  <button onclick="setDifficulty('medium')">–°—Ä–µ–¥–Ω–µ (1-50, 7 –ø–æ–ø—ã—Ç–æ–∫)</button>
  <button onclick="setDifficulty('hard')">–°–ª–æ–∂–Ω–æ (1-100, 10 –ø–æ–ø—ã—Ç–æ–∫)</button>
</div>

<p>–Ø –∑–∞–≥–∞–¥–∞–ª —á–∏—Å–ª–æ. –£–≥–∞–¥–∞–π –µ–≥–æ!</p>

<input type="number" id="guess" min="1" max="100" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ">
<button onclick="checkGuess()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>

<button onclick="newGame()" id="new-game-button" disabled>–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>

<p id="message"></p>
<p id="attempts">–ü–æ–ø—ã—Ç–æ–∫: -</p>

<div id="last-guesses"></div>

<div id="additional-controls">
  <button onclick="giveHint()">–ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
  <button onclick="showAnswer()">–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</button>
</div>

<div id="achievements">
    <p id="achievement-first-win" style="display: none;">üéâ –ü–µ—Ä–≤–∞—è –ø–æ–±–µ–¥–∞! üéâ</p>
    <p id="achievement-easy-win" style="display: none;">üèÜ –ü–æ–±–µ–¥–∏–ª –Ω–∞ –ª–µ–≥–∫–æ–º —É—Ä–æ–≤–Ω–µ! üèÜ</p>
    <p id="achievement-perfect-win" style="display: none;">üíØ –£–≥–∞–¥–∞–ª —Å –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏! üíØ</p>
</div>


<script>
  let randomNumber = 0;
  let attemptsLeft = 0;
  let maxNumber = 100;
  let lastGuesses = [];
  let wins = 0;
  let difficulty = null;
  let firstWinAchieved = false;
  let perfectWinAchieved = false;
  let proximityThreshold = 5; // –ü–æ—Ä–æ–≥ –±–ª–∏–∑–æ—Å—Ç–∏

  let guessInput = document.getElementById("guess");
  let messageArea = document.getElementById("message");
  let attemptsDisplay = document.getElementById("attempts");
  let checkButton = document.querySelector("button");
  let newGameButton = document.getElementById("new-game-button");
  let lastGuessesDisplay = document.getElementById("last-guesses");
  let hintUsed = false;
  let answerShown = false;
  let achievementsDiv = document.getElementById("achievements");
  let achievementFirstWin = document.getElementById("achievement-first-win");
  let achievementEasyWin = document.getElementById("achievement-easy-win");
  let achievementPerfectWin = document.getElementById("achievement-perfect-win");


  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  function setDifficulty(selectedDifficulty) {
    difficulty = selectedDifficulty;
    if (difficulty === 'easy') {
      maxNumber = 10;
      attemptsLeft = 5;
      proximityThreshold = 2;
    } else if (difficulty === 'medium') {
      maxNumber = 50;
      attemptsLeft = 7;
      proximityThreshold = 5;
    } else {
      maxNumber = 100;
      attemptsLeft = 10;
      proximityThreshold = 10;
    }

    randomNumber = Math.floor(Math.random() * maxNumber) + 1;
    guessInput.max = maxNumber;
    guessInput.min = 1;
    messageArea.textContent = "";
    attemptsDisplay.textContent = "–ü–æ–ø—ã—Ç–æ–∫: " + attemptsLeft;
    guessInput.disabled = false;
    checkButton.disabled = false;
    newGameButton.disabled = true;
    guessInput.value = "";
    lastGuesses = [];
    updateLastGuessesDisplay();
    hintUsed = false;
    answerShown = false;
    document.getElementById("additional-controls").style.display = "flex";
    achievementsDiv.style.display = "none";
    achievementFirstWin.style.display = 'none';

    console.log("–°–ª–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: " + difficulty + ", –ß–∏—Å–ª–æ: " + randomNumber + ", –ü–æ–ø—ã—Ç–æ–∫: " + attemptsLeft);
  }


  function checkGuess() {
    let guess = guessInput.value;

    if (isNaN(guess) || guess < 1 || guess > maxNumber || guess === "") {
      messageArea.textContent = "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ " + maxNumber + "!";
      return;
    }

    guess = parseInt(guess);

    lastGuesses.push(guess);
    if (lastGuesses.length > 5) {
        lastGuesses.shift();
    }
    updateLastGuessesDisplay();

    attemptsLeft--;
    attemptsDisplay.textContent = "–ü–æ–ø—ã—Ç–æ–∫: " + attemptsLeft;

    if (guess === randomNumber) {
      messageArea.textContent = "–£—Ä–∞! –í—ã —É–≥–∞–¥–∞–ª–∏! –≠—Ç–æ –±—ã–ª–æ —á–∏—Å–ª–æ " + randomNumber;
      disableInput();
      wins++;
      checkAchievements();
    } else {
        let difference = Math.abs(guess - randomNumber);
        if (difference <= proximityThreshold) {
            messageArea.textContent = "–û—á–µ–Ω—å –±–ª–∏–∑–∫–æ!";
        } else if (guess < randomNumber) {
            messageArea.textContent = "–°–ª–∏—à–∫–æ–º –º–∞–ª–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!";
        } else {
            messageArea.textContent = "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!";
        }
    }

    if (attemptsLeft === 0) {
        messageArea.textContent = "–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏! –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±—ã–ª–æ " + randomNumber;
        disableInput();
    }

    guessInput.value = "";
    guessInput.focus();
  }


  function disableInput() {
    guessInput.disabled = true;
    checkButton.disabled = true;
    newGameButton.disabled = false;
    document.getElementById("additional-controls").style.display = "none";
  }

  function newGame() {
      messageArea.textContent = "–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.";
      attemptsDisplay.textContent = "–ü–æ–ø—ã—Ç–æ–∫: -";
      guessInput.disabled = true;
      checkButton.disabled = true;
      newGameButton.disabled = true;
      guessInput.value = "";
      lastGuesses = [];
      updateLastGuessesDisplay();
      hintUsed = false;
      answerShown = false;
      document.getElementById("additional-controls").style.display = "none";
      achievementsDiv.style.display = "none";
      achievementFirstWin.style.display = 'none';
  }

  function updateLastGuessesDisplay() {
      let guessesText = "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ø—ã—Ç–∫–∏: " + lastGuesses.join(", ");
      lastGuessesDisplay.textContent = guessesText;
  }

  function giveHint() {
    if (hintUsed) {
      messageArea.textContent = "–ü–æ–¥—Å–∫–∞–∑–∫–∞ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞!";
      return;
    }
    hintUsed = true;
    let hint;
    if (randomNumber % 2 === 0) {
      hint = "–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ —á–µ—Ç–Ω–æ–µ.";
    } else {
      hint = "–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –Ω–µ—á–µ—Ç–Ω–æ–µ.";
    }
    messageArea.textContent = hint + " (–ü–æ–¥—Å–∫–∞–∑–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞)";
  }

  function showAnswer() {
    if (answerShown) {
      messageArea.textContent = "–û—Ç–≤–µ—Ç —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω!";
      return;
    }
    answerShown = true;
    messageArea.textContent = "–û—Ç–≤–µ—Ç: " + randomNumber + " (–û—Ç–≤–µ—Ç –ø–æ–∫–∞–∑–∞–Ω)";
    disableInput();
  }

  function checkAchievements() {
      achievementsDiv.style.display = "block";

      if (!firstWinAchieved && attemptsLeft >= 0) {
          achievementFirstWin.style.display = "block";
          firstWinAchieved = true;
      }
      if (difficulty === 'easy' && achievementEasyWin.style.display === "none") {
          achievementEasyWin.style.display = "block";
      }
      if (attemptsLeft === 10 && maxNumber === 100 && !perfectWinAchieved) {
        perfectWinAchieved = true;
          achievementPerfectWin.style.display = "block";
      }
  }


  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
  guessInput.addEventListener("keyup", function(event) {
    if (event.key === "Enter" && !checkButton.disabled) {
      checkGuess();
    }
  });

  // –§–æ–∫—É—Å –Ω–∞ –∏–Ω–ø—É—Ç–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–µ—Å–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å —É–∂–µ –≤—ã–±—Ä–∞–Ω–∞)
  window.onload = function() {
      guessInput.disabled = true;
      checkButton.disabled = true;
      newGameButton.disabled = true;
      messageArea.textContent = "–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.";
      document.getElementById("additional-controls").style.display = "none";
      achievementsDiv.style.display = "none";
  }

</script>

</body>
</html>