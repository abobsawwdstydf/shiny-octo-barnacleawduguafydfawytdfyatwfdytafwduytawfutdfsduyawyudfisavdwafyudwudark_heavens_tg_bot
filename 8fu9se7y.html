<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–´ –î–£–ú–ê–õ –≠–¢–û –ö–ê–ó–ò–ù–û?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        :root {
            --neon-pink: #ff00ff;
            --neon-blue: #00ffff;
            --neon-green: #00ff00;
            --neon-purple: #9d00ff;
            --neon-orange: #ff7700;
            --neon-red: #ff0000;
            --dark-bg: #0a0a0a;
            --darker-bg: #050505;
        }

        body {
            background: var(--dark-bg);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 0, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 255, 255, 0.1) 0%, transparent 50%);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes neon-flicker {
            0%, 100% { opacity: 1; text-shadow: 0 0 10px currentColor; }
            50% { opacity: 0.8; text-shadow: 0 0 20px currentColor; }
        }

        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100vh); }
        }

        @keyframes glitch {
            0% { transform: translate(0); filter: hue-rotate(0deg); }
            25% { transform: translate(-2px, 2px); filter: hue-rotate(90deg); }
            50% { transform: translate(-2px, -2px); filter: hue-rotate(180deg); }
            75% { transform: translate(2px, 2px); filter: hue-rotate(270deg); }
            100% { transform: translate(0); filter: hue-rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }

        @keyframes spin {
            0% { transform: translateY(0); }
            100% { transform: translateY(-1200px); }
        }

        @keyframes cryptoGlow {
            0%, 100% { 
                text-shadow: 0 0 5px var(--neon-green), 
                           0 0 10px var(--neon-green),
                           0 0 15px var(--neon-green);
            }
            50% { 
                text-shadow: 0 0 10px var(--neon-green), 
                           0 0 20px var(--neon-green),
                           0 0 30px var(--neon-green);
            }
        }

        @keyframes winPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes symbolGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.5) drop-shadow(0 0 10px gold); }
        }

        @keyframes taskComplete {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); background: var(--neon-green); }
            100% { transform: scale(1); }
        }

        @keyframes lagEffect {
            0% { transform: translateX(0) rotate(0deg); }
            25% { transform: translateX(20px) rotate(5deg); }
            50% { transform: translateX(-20px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(3deg); }
            100% { transform: translateX(0) rotate(0deg); }
        }

        @keyframes horrorShake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }

        @keyframes bloodDrip {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        @keyframes screamText {
            0% { transform: scale(1); opacity: 0; }
            50% { transform: scale(1.5); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }

        @keyframes staticNoise {
            0% { background-position: 0 0; }
            100% { background-position: 100% 100%; }
        }

        /* –°–∫–∞–Ω-–ª–∏–Ω–∏—è */
        .scanline {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-blue), transparent);
            animation: scanline 2s linear infinite;
            pointer-events: none;
            z-index: 1000;
        }

        /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å */
        .top-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(10, 10, 10, 0.95);
            border-bottom: 1px solid var(--neon-pink);
            position: relative;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .balance-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .balance {
            font-size: 28px;
            font-weight: bold;
            color: var(--neon-green);
            animation: cryptoGlow 2s infinite;
            text-shadow: 0 0 10px var(--neon-green);
        }

        .credit-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .credit-btn {
            background: transparent;
            border: 1px solid var(--neon-blue);
            color: var(--neon-blue);
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 12px;
            text-shadow: 0 0 5px var(--neon-blue);
        }

        .credit-btn:hover {
            background: var(--neon-blue);
            color: black;
            box-shadow: 0 0 15px var(--neon-blue);
        }

        .player-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .profile-btn {
            background: transparent;
            border: 1px solid var(--neon-purple);
            color: var(--neon-purple);
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            text-shadow: 0 0 5px var(--neon-purple);
            transition: all 0.3s;
        }

        .profile-btn:hover {
            background: var(--neon-purple);
            color: black;
            box-shadow: 0 0 15px var(--neon-purple);
        }

        /* –í—ã–±–æ—Ä –∫–∞–∑–∏–Ω–æ */
        .casino-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 20px;
            flex-wrap: wrap;
        }

        .casino-option {
            width: 160px;
            height: 110px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--neon-pink);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .casino-option::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-blue), var(--neon-green));
            z-index: -1;
            border-radius: 14px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .casino-option:hover::before {
            opacity: 1;
        }

        .casino-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 0, 255, 0.3);
        }

        .casino-option.active {
            border-color: var(--neon-green);
            box-shadow: 0 0 25px var(--neon-green);
            animation: neon-flicker 2s infinite;
        }

        .casino-option.active::before {
            opacity: 1;
        }

        .casino-icon {
            font-size: 32px;
            margin-bottom: 10px;
            filter: drop-shadow(0 0 10px currentColor);
        }

        /* –ò–≥—Ä–æ–≤—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã */
        .game-container {
            padding: 20px;
            display: none;
        }

        .game-container.active {
            display: block;
            animation: glitch 0.3s ease;
        }

        .slot-machine {
            background: rgba(20, 20, 20, 0.9);
            border: 2px solid var(--neon-blue);
            border-radius: 20px;
            padding: 30px;
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
        }

        .slot-machine::before {
            content: "";
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-blue), var(--neon-green), var(--neon-purple));
            z-index: -1;
            border-radius: 22px;
            animation: neon-flicker 3s infinite;
        }

        .reels-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            perspective: 1000px;
        }

        .reel {
            width: 120px;
            height: 180px;
            background: linear-gradient(145deg, #000, #222);
            border: 3px solid var(--neon-blue);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            box-shadow: 
                inset 0 0 20px rgba(0, 255, 255, 0.2),
                0 0 20px rgba(0, 255, 255, 0.3);
        }

        .reel-content {
            position: absolute;
            width: 100%;
        }

        .reel-symbol {
            height: 180px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 48px;
            font-weight: bold;
            color: var(--neon-blue);
            text-shadow: 0 0 10px var(--neon-blue);
            transition: all 0.3s;
        }

        .reel-symbol.win {
            animation: symbolGlow 0.5s infinite;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .bet-controls {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            max-width: 500px;
        }

        .bet-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--neon-purple);
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            min-width: 70px;
        }

        .bet-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(157, 0, 255, 0.4);
        }

        .bet-btn.active {
            background: var(--neon-purple);
            color: black;
            box-shadow: 0 0 15px var(--neon-purple);
            animation: neon-flicker 1s infinite;
        }

        .spin-btn {
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-purple));
            border: none;
            color: white;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            animation: float 2s infinite;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 25px rgba(255, 0, 255, 0.5);
            transition: all 0.3s;
        }

        .spin-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 35px rgba(255, 0, 255, 0.7);
        }

        .spin-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            animation: none;
        }

        /* –°–∏—Å—Ç–µ–º–∞ —É–ª—É—á—à–µ–Ω–∏–π */
        .upgrades-system {
            padding: 20px;
            margin-top: 30px;
            border-top: 1px solid var(--neon-orange);
        }

        .upgrades-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .upgrade-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--neon-orange);
            border-radius: 15px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
            transition: all 0.3s;
        }

        .upgrade-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 119, 0, 0.3);
        }

        .upgrade-item.purchased {
            border-color: var(--neon-green);
            background: rgba(0, 255, 0, 0.1);
        }

        .upgrade-price {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--neon-purple);
            color: black;
            padding: 5px 12px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: bold;
        }

        .upgrade-btn {
            background: var(--neon-orange);
            border: none;
            color: black;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 15px;
            transition: all 0.3s;
        }

        .upgrade-btn:hover {
            background: var(--neon-pink);
            transform: scale(1.05);
        }

        .upgrade-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        /* –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π */
        .tasks-system {
            padding: 20px;
            margin-top: 30px;
            border-top: 1px solid var(--neon-blue);
        }

        .tasks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .task-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--neon-blue);
            border-radius: 12px;
            padding: 15px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
            cursor: pointer;
            transition: all 0.3s;
        }

        .task-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
        }

        .task-item.completed {
            border-color: var(--neon-green);
            background: rgba(0, 255, 0, 0.1);
        }

        .task-reward {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--neon-green);
            color: black;
            padding: 4px 10px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
        }

        .task-progress {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }

        .task-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-pink));
            border-radius: 3px;
            transition: width 0.5s;
        }

        /* –ë–∏–∑–Ω–µ—Å-—Å–∏—Å—Ç–µ–º–∞ */
        .business-system {
            padding: 20px;
            margin-top: 30px;
            border-top: 1px solid var(--neon-green);
        }

        .business-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .business-option {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--neon-green);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .business-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 0, 0.1), transparent);
            transition: left 0.5s;
        }

        .business-option:hover::before {
            left: 100%;
        }

        .business-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 255, 0, 0.2);
            border-color: var(--neon-blue);
        }

        .business-risk {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--neon-pink);
            color: black;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: bold;
            box-shadow: 0 0 10px var(--neon-pink);
        }

        /* –õ–∞–≥ –º–∞—à–∏–Ω–∞ –∏ —Ö–æ—Ä—Ä–æ—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã */
        .lag-machine {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 9999;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--neon-red);
            font-size: 24px;
            text-align: center;
            overflow: hidden;
        }

        .lag-machine.active {
            display: flex;
            animation: horrorShake 0.1s infinite;
        }

        .static-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(0deg, 
                    rgba(255,255,255,0.03) 0px, 
                    rgba(255,255,255,0.03) 1px, 
                    transparent 1px, 
                    transparent 2px);
            animation: staticNoise 0.1s infinite;
            pointer-events: none;
        }

        .blood-drip {
            position: absolute;
            color: #ff0000;
            font-size: 24px;
            pointer-events: none;
            z-index: 10000;
        }

        .scream-text {
            position: absolute;
            color: #ff0000;
            font-size: 48px;
            font-weight: bold;
            text-shadow: 0 0 20px #ff0000;
            pointer-events: none;
            z-index: 10001;
            animation: screamText 2s infinite;
        }

        .horror-face {
            position: absolute;
            font-size: 100px;
            filter: blur(2px) hue-rotate(90deg);
            animation: glitch 0.5s infinite;
            z-index: 10002;
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .modal.active {
            display: flex;
            animation: glitch 0.5s ease;
        }

        .modal-content {
            background: var(--darker-bg);
            border: 2px solid var(--neon-blue);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            position: relative;
            box-shadow: 0 0 50px rgba(0, 255, 255, 0.3);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: var(--neon-pink);
            font-size: 24px;
            cursor: pointer;
            text-shadow: 0 0 10px var(--neon-pink);
            transition: all 0.3s;
        }

        .close-modal:hover {
            transform: scale(1.2);
        }

        /* –ü—Ä–æ—Ñ–∏–ª—å */
        .profile-section {
            margin-top: 20px;
        }

        .settings-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #333;
            transition: .4s;
            border-radius: 24px;
            border: 1px solid var(--neon-blue);
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 3px;
            background-color: var(--neon-blue);
            transition: .4s;
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neon-blue);
        }

        input:checked + .slider {
            background-color: var(--neon-blue);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
            background-color: white;
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 0, 255, 0.95);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.5s;
            border: 1px solid var(--neon-pink);
            box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
            backdrop-filter: blur(10px);
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç—ã */
        .glitch-text {
            animation: glitch 0.5s infinite;
        }

        .particle {
            position: absolute;
            pointer-events: none;
            z-index: 999;
            border-radius: 50%;
        }

        .win-effect {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 998;
        }

        .warning-text {
            color: var(--neon-red);
            text-shadow: 0 0 10px var(--neon-red);
            animation: neon-flicker 1s infinite;
        }

        h2, h3, h4 {
            text-shadow: 0 0 10px currentColor;
            animation: neon-flicker 3s infinite;
        }

        .cyber-title {
            font-size: 14px;
            color: var(--neon-blue);
            text-align: center;
            margin-bottom: 10px;
            animation: neon-flicker 2s infinite;
        }
    </style>
</head>
<body>
    <div class="scanline"></div>

    <!-- –õ–∞–≥ –º–∞—à–∏–Ω–∞ —Å —Ö–æ—Ä—Ä–æ—Ä —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ -->
    <div class="lag-machine" id="lagMachine">
        <div class="static-overlay"></div>
        <h1 class="warning-text" id="lagTitle">–¢–´ –î–£–ú–ê–õ –ß–¢–û –ù–ï–ß–ï–ì–û –ù–ï –ë–£–î–ï–¢?</h1>
        <p>–°–ò–°–¢–ï–ú–ù–´–ô –°–ë–û–ô... –ü–ï–†–ï–ì–†–£–ó–ö–ê...</p>
        <p id="lagTimer">30</p>
        <div id="horrorElements"></div>
    </div>

    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <div class="top-panel">
        <div class="balance-section">
            <div class="balance">$<span id="balance">1000</span></div>
            <div class="credit-section">
                <div class="credit-amount">–ö—Ä–µ–¥–∏—Ç: <span id="credit">0</span>/10</div>
                <button class="credit-btn" id="takeCredit">–í–ó–Ø–¢–¨ –ö–†–ï–î–ò–¢ +$1000</button>
                <button class="credit-btn" id="returnCredit">–í–ï–†–ù–£–¢–¨ $1330</button>
            </div>
        </div>
        <div class="player-info">
            <div class="player-name" id="playerName">–ò–ì–†–û–ö_001</div>
            <button class="profile-btn" id="profileBtn">üë§ –ü–†–û–§–ò–õ–¨</button>
        </div>
    </div>

    <!-- –í—ã–±–æ—Ä –∫–∞–∑–∏–Ω–æ -->
    <div class="casino-selector">
        <div class="casino-option active" data-casino="classic">
            <div class="casino-icon">üé∞</div>
            <div>CLASSIC 777</div>
            <div class="cyber-title">–¢–†–ê–î–ò–¶–ò–û–ù–ù–´–ô –°–õ–û–¢</div>
        </div>
        <div class="casino-option" data-casino="rocket">
            <div class="casino-icon">üöÄ</div>
            <div>ROCKET CASINO</div>
            <div class="cyber-title">–í–´–°–û–ö–ò–ï –°–¢–ê–í–ö–ò</div>
        </div>
        <div class="casino-option" data-casino="cyber">
            <div class="casino-icon">üíª</div>
            <div>CYBER CLUB</div>
            <div class="cyber-title">–ö–ò–ë–ï–†–ü–ê–ù–ö –°–¢–ò–õ–¨</div>
        </div>
    </div>

    <!-- –ò–≥—Ä–æ–≤—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã -->
    <div class="game-container active" id="classicGame">
        <div class="slot-machine">
            <div class="reels-container">
                <div class="reel" id="reel1">
                    <div class="reel-content" id="reelContent1">
                        <div class="reel-symbol">7</div>
                        <div class="reel-symbol">BAR</div>
                        <div class="reel-symbol">$</div>
                        <div class="reel-symbol">‚òÖ</div>
                        <div class="reel-symbol">7</div>
                        <div class="reel-symbol">BAR</div>
                        <div class="reel-symbol">$</div>
                        <div class="reel-symbol">‚òÖ</div>
                    </div>
                </div>
                <div class="reel" id="reel2">
                    <div class="reel-content" id="reelContent2">
                        <div class="reel-symbol">7</div>
                        <div class="reel-symbol">BAR</div>
                        <div class="reel-symbol">$</div>
                        <div class="reel-symbol">‚òÖ</div>
                        <div class="reel-symbol">7</div>
                        <div class="reel-symbol">BAR</div>
                        <div class="reel-symbol">$</div>
                        <div class="reel-symbol">‚òÖ</div>
                    </div>
                </div>
                <div class="reel" id="reel3">
                    <div class="reel-content" id="reelContent3">
                        <div class="reel-symbol">7</div>
                        <div class="reel-symbol">BAR</div>
                        <div class="reel-symbol">$</div>
                        <div class="reel-symbol">‚òÖ</div>
                        <div class="reel-symbol">7</div>
                        <div class="reel-symbol">BAR</div>
                        <div class="reel-symbol">$</div>
                        <div class="reel-symbol">‚òÖ</div>
                    </div>
                </div>
            </div>
            <div class="controls">
                <div class="bet-controls">
                    <button class="bet-btn" data-bet="10">$10</button>
                    <button class="bet-btn" data-bet="50">$50</button>
                    <button class="bet-btn active" data-bet="100">$100</button>
                    <button class="bet-btn" data-bet="500">$500</button>
                    <button class="bet-btn" data-bet="1000">$1000</button>
                    <button class="bet-btn" data-bet="2000">$2000</button>
                    <button class="bet-btn" data-bet="3000">$3000</button>
                </div>
                <button class="spin-btn" id="spinBtnClassic">SPIN</button>
            </div>
        </div>
    </div>

    <div class="game-container" id="rocketGame">
        <div class="slot-machine">
            <div class="reels-container">
                <div class="reel">
                    <div class="reel-content">
                        <div class="reel-symbol">üöÄ</div>
                        <div class="reel-symbol">‚≠ê</div>
                        <div class="reel-symbol">üõ∏</div>
                        <div class="reel-symbol">üåï</div>
                        <div class="reel-symbol">üöÄ</div>
                        <div class="reel-symbol">‚≠ê</div>
                        <div class="reel-symbol">üõ∏</div>
                        <div class="reel-symbol">üåï</div>
                    </div>
                </div>
                <div class="reel">
                    <div class="reel-content">
                        <div class="reel-symbol">üöÄ</div>
                        <div class="reel-symbol">‚≠ê</div>
                        <div class="reel-symbol">üõ∏</div>
                        <div class="reel-symbol">üåï</div>
                        <div class="reel-symbol">üöÄ</div>
                        <div class="reel-symbol">‚≠ê</div>
                        <div class="reel-symbol">üõ∏</div>
                        <div class="reel-symbol">üåï</div>
                    </div>
                </div>
                <div class="reel">
                    <div class="reel-content">
                        <div class="reel-symbol">üöÄ</div>
                        <div class="reel-symbol">‚≠ê</div>
                        <div class="reel-symbol">üõ∏</div>
                        <div class="reel-symbol">üåï</div>
                        <div class="reel-symbol">üöÄ</div>
                        <div class="reel-symbol">‚≠ê</div>
                        <div class="reel-symbol">üõ∏</div>
                        <div class="reel-symbol">üåï</div>
                    </div>
                </div>
            </div>
            <div class="controls">
                <div class="bet-controls">
                    <button class="bet-btn" data-bet="100">$100</button>
                    <button class="bet-btn active" data-bet="500">$500</button>
                    <button class="bet-btn" data-bet="1000">$1000</button>
                    <button class="bet-btn" data-bet="2000">$2000</button>
                    <button class="bet-btn" data-bet="3000">$3000</button>
                </div>
                <button class="spin-btn" id="spinBtnRocket">SPIN</button>
            </div>
        </div>
    </div>

    <div class="game-container" id="cyberGame">
        <div class="slot-machine">
            <div class="reels-container">
                <div class="reel">
                    <div class="reel-content">
                        <div class="reel-symbol">üíæ</div>
                        <div class="reel-symbol">üîå</div>
                        <div class="reel-symbol">üñ•Ô∏è</div>
                        <div class="reel-symbol">‚ö°</div>
                        <div class="reel-symbol">üíæ</div>
                        <div class="reel-symbol">üîå</div>
                        <div class="reel-symbol">üñ•Ô∏è</div>
                        <div class="reel-symbol">‚ö°</div>
                    </div>
                </div>
                <div class="reel">
                    <div class="reel-content">
                        <div class="reel-symbol">üíæ</div>
                        <div class="reel-symbol">üîå</div>
                        <div class="reel-symbol">üñ•Ô∏è</div>
                        <div class="reel-symbol">‚ö°</div>
                        <div class="reel-symbol">üíæ</div>
                        <div class="reel-symbol">üîå</div>
                        <div class="reel-symbol">üñ•Ô∏è</div>
                        <div class="reel-symbol">‚ö°</div>
                    </div>
                </div>
                <div class="reel">
                    <div class="reel-content">
                        <div class="reel-symbol">üíæ</div>
                        <div class="reel-symbol">üîå</div>
                        <div class="reel-symbol">üñ•Ô∏è</div>
                        <div class="reel-symbol">‚ö°</div>
                        <div class="reel-symbol">üíæ</div>
                        <div class="reel-symbol">üîå</div>
                        <div class="reel-symbol">üñ•Ô∏è</div>
                        <div class="reel-symbol">‚ö°</div>
                    </div>
                </div>
            </div>
            <div class="controls">
                <div class="bet-controls">
                    <button class="bet-btn" data-bet="50">$50</button>
                    <button class="bet-btn active" data-bet="200">$200</button>
                    <button class="bet-btn" data-bet="500">$500</button>
                    <button class="bet-btn" data-bet="1000">$1000</button>
                    <button class="bet-btn" data-bet="2000">$2000</button>
                </div>
                <button class="spin-btn" id="spinBtnCyber">SPIN</button>
            </div>
        </div>
    </div>

    <!-- –°–∏—Å—Ç–µ–º–∞ —É–ª—É—á—à–µ–Ω–∏–π -->
    <div class="upgrades-system">
        <h3>‚ö° –°–ò–°–¢–ï–ú–ê –£–õ–£–ß–®–ï–ù–ò–ô</h3>
        <div class="upgrades-grid">
            <div class="upgrade-item" data-upgrade="agent" data-price="5000">
                <h4>üïµÔ∏è –ê–≥–µ–Ω—Ç –≤–ª–∏—è–Ω–∏—è</h4>
                <p>–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —à–∞–Ω—Å –≤—ã–∏–≥—Ä—ã—à–∞ –Ω–∞ 5%</p>
                <div class="upgrade-price">$5000</div>
                <button class="upgrade-btn">–ö–£–ü–ò–¢–¨</button>
            </div>
            <div class="upgrade-item" data-upgrade="hacker" data-price="10000">
                <h4>üíª –í–∑–ª–æ–º —Å–∏—Å—Ç–µ–º—ã</h4>
                <p>–£–¥–≤–∞–∏–≤–∞–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å –≤—ã–∏–≥—Ä—ã—à–∞</p>
                <div class="upgrade-price">$10000</div>
                <button class="upgrade-btn">–ö–£–ü–ò–¢–¨</button>
            </div>
            <div class="upgrade-item" data-upgrade="police" data-price="15000">
                <h4>üëÆ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–ª–∏—Ü–∏–∏</h4>
                <p>–°–Ω–∏–∂–∞–µ—Ç —Ä–∏—Å–∫ –±–∏–∑–Ω–µ—Å-—Å–¥–µ–ª–æ–∫ –Ω–∞ 50%</p>
                <div class="upgrade-price">$15000</div>
                <button class="upgrade-btn">–ö–£–ü–ò–¢–¨</button>
            </div>
            <div class="upgrade-item" data-upgrade="credit" data-price="20000">
                <h4>üí∞ –ö—Ä–µ–¥–∏—Ç–Ω—ã–π –±—Ä–æ–∫–µ—Ä</h4>
                <p>–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ª–∏–º–∏—Ç –∫—Ä–µ–¥–∏—Ç–æ–≤ –¥–æ 20</p>
                <div class="upgrade-price">$20000</div>
                <button class="upgrade-btn">–ö–£–ü–ò–¢–¨</button>
            </div>
        </div>
    </div>

    <!-- –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π -->
    <div class="tasks-system">
        <h3>üéØ –°–ò–°–¢–ï–ú–ê –ó–ê–î–ê–ù–ò–ô (14)</h3>
        <div class="tasks-grid">
            <div class="task-item" data-task="spins" data-target="10" data-reward="100">
                <h4>–°–¥–µ–ª–∞—Ç—å 10 —Å–ø–∏–Ω–æ–≤</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">10</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$100</div>
            </div>
            <div class="task-item" data-task="wins" data-target="5" data-reward="200">
                <h4>–í—ã–∏–≥—Ä–∞—Ç—å 5 —Ä–∞–∑</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">5</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$200</div>
            </div>
            <div class="task-item" data-task="bigwin" data-target="1" data-reward="500">
                <h4>–°–æ—Ä–≤–∞—Ç—å –¥–∂–µ–∫–ø–æ—Ç</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">1</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$500</div>
            </div>
            <div class="task-item" data-task="credit" data-target="3" data-reward="300">
                <h4>–í–∑—è—Ç—å 3 –∫—Ä–µ–¥–∏—Ç–∞</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">3</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$300</div>
            </div>
            <div class="task-item" data-task="business" data-target="5" data-reward="800">
                <h4>–ó–∞–≤–µ—Ä—à–∏—Ç—å 5 —Å–¥–µ–ª–æ–∫</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">5</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$800</div>
            </div>
            <div class="task-item" data-task="upgrade" data-target="2" data-reward="1500">
                <h4>–ö—É–ø–∏—Ç—å 2 —É–ª—É—á—à–µ–Ω–∏—è</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">2</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$1500</div>
            </div>
            <div class="task-item" data-task="balance" data-target="10000" data-reward="2000">
                <h4>–ù–∞–∫–æ–ø–∏—Ç—å $10000</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">10000</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$2000</div>
            </div>
            <div class="task-item" data-task="streak" data-target="3" data-reward="1000">
                <h4>3 –ø–æ–±–µ–¥—ã –ø–æ–¥—Ä—è–¥</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">3</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$1000</div>
            </div>
            <div class="task-item" data-task="casinos" data-target="3" data-reward="1200">
                <h4>–ò–≥—Ä–∞—Ç—å –≤–æ –≤—Å–µ—Ö –∫–∞–∑–∏–Ω–æ</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">3</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$1200</div>
            </div>
            <div class="task-item" data-task="maxbet" data-target="1" data-reward="3000">
                <h4>–°—Ç–∞–≤–∫–∞ $3000</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">1</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$3000</div>
            </div>
            <div class="task-item" data-task="debt" data-target="5000" data-reward="2500">
                <h4>–í–µ—Ä–Ω—É—Ç—å –∫—Ä–µ–¥–∏—Ç–æ–≤ –Ω–∞ $5000</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">5000</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$2500</div>
            </div>
            <div class="task-item" data-task="lucky" data-target="7" data-reward="777">
                <h4>7 –≤—ã–∏–≥—Ä—ã—à–µ–π –∑–∞ –¥–µ–Ω—å</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">7</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$777</div>
            </div>
            <div class="task-item" data-task="rich" data-target="50000" data-reward="10000">
                <h4>–°—Ç–∞—Ç—å –º–∏–ª–ª–∏–æ–Ω–µ—Ä–æ–º</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">50000</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$10000</div>
            </div>
            <div class="task-item" data-task="master" data-target="10" data-reward="5000">
                <h4>–í—ã–ø–æ–ª–Ω–∏—Ç—å 10 –∑–∞–¥–∞–Ω–∏–π</h4>
                <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="task-current">0</span>/<span class="task-target">10</span></p>
                <div class="task-progress">
                    <div class="task-progress-bar" style="width: 0%"></div>
                </div>
                <div class="task-reward">+$5000</div>
            </div>
        </div>
    </div>

    <!-- –ë–∏–∑–Ω–µ—Å-—Å–∏—Å—Ç–µ–º–∞ -->
    <div class="business-system">
        <h3>üíº –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –î–û–•–û–î–´</h3>
        <div class="business-options">
            <div class="business-option" data-business="delivery">
                <div class="business-risk">–†–ò–°–ö: –°–†–ï–î–ù–ò–ô</div>
                <h4>üöö –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ—Å—ã–ª–æ–∫</h4>
                <p>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è: $200</p>
                <p>–í–æ–∑–≤—Ä–∞—Ç: $300-500</p>
            </div>
            <div class="business-option" data-business="tech">
                <div class="business-risk">–†–ò–°–ö: –ù–ò–ó–ö–ò–ô</div>
                <h4>üíª IT –£—Å–ª—É–≥–∏</h4>
                <p>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è: $500</p>
                <p>–í–æ–∑–≤—Ä–∞—Ç: $600-800</p>
            </div>
            <div class="business-option" data-business="street">
                <div class="business-risk">–†–ò–°–ö: –í–´–°–û–ö–ò–ô</div>
                <h4>üåÉ –£–ª–∏—á–Ω—ã–µ —Å–¥–µ–ª–∫–∏</h4>
                <p>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è: $1000</p>
                <p>–í–æ–∑–≤—Ä–∞—Ç: $2000-5000</p>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <button class="close-modal" id="closeProfile">√ó</button>
            <h2>üë§ –ü–†–û–§–ò–õ–¨ –ò–ì–†–û–ö–ê</h2>
            
            <div class="profile-section">
                <div class="settings-option">
                    <span>–ò–º—è –∏–≥—Ä–æ–∫–∞:</span>
                    <input type="text" id="playerNameInput" value="–ò–ì–†–û–ö_001" style="background: #111; color: var(--neon-green); border: 1px solid var(--neon-blue); padding: 5px; border-radius: 5px;">
                </div>
                
                <h4>üîä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–∞:</h4>
                <div class="settings-option">
                    <span>–§–æ–Ω–æ–≤—ã–µ –∑–≤—É–∫–∏</span>
                    <label class="switch">
                        <input type="checkbox" id="bgSound" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="settings-option">
                    <span>–ó–≤—É–∫–∏ –≤—Ä–∞—â–µ–Ω–∏—è</span>
                    <label class="switch">
                        <input type="checkbox" id="spinSound" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="settings-option">
                    <span>–ó–≤—É–∫–∏ –≤—ã–∏–≥—Ä—ã—à–∞</span>
                    <label class="switch">
                        <input type="checkbox" id="winSound" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <h4>‚ö° –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–∏:</h4>
                <div class="settings-option">
                    <span>–°–ª–æ–∂–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</span>
                    <label class="switch">
                        <input type="checkbox" id="heavyEffects" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="settings-option">
                    <span>–ß–∞—Å—Ç–∏—Ü—ã</span>
                    <label class="switch">
                        <input type="checkbox" id="particles" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="settings-option">
                    <span>–ù–µ–æ–Ω–æ–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞</span>
                    <label class="switch">
                        <input type="checkbox" id="neonEffects" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- –î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ –±–∏–∑–Ω–µ—Å–∞ -->
    <div class="modal" id="businessModal">
        <div class="modal-content">
            <button class="close-modal" id="closeBusiness">√ó</button>
            <h2 id="businessTitle">üíº –ë–ò–ó–ù–ï–° –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï</h2>
            <div id="businessDialog">
                <p>–ù–µ–∑–Ω–∞–∫–æ–º–µ—Ü: –≠–π, –¥—Ä—É–≥, –∏—â–µ—à—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥–∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å?</p>
                <div class="dialog-options" style="display: flex; flex-direction: column; gap: 10px; margin-top: 20px;">
                    <button class="credit-btn dialog-option" data-response="deal" style="text-align: center;">–°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è –Ω–∞ —Å–¥–µ–ª–∫—É</button>
                    <button class="credit-btn dialog-option" data-response="police" style="text-align: center;">–≠—Ç–æ –ª–æ–≤—É—à–∫–∞?</button>
                    <button class="credit-btn dialog-option" data-response="decline" style="text-align: center;">–û—Ç–∫–∞–∑–∞—Ç—å—Å—è</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification"></div>

    <script>
        class CasinoGame {
            constructor() {
                this.balance = 1000;
                this.credit = 0;
                this.maxCredit = 10;
                this.bet = 100;
                this.isSpinning = false;
                this.currentCasino = 'classic';
                this.upgrades = {
                    agent: false,
                    hacker: false,
                    police: false,
                    credit: false
                };
                this.tasks = {
                    spins: { current: 0, target: 10, completed: false },
                    wins: { current: 0, target: 5, completed: false },
                    bigwin: { current: 0, target: 1, completed: false },
                    credit: { current: 0, target: 3, completed: false },
                    business: { current: 0, target: 5, completed: false },
                    upgrade: { current: 0, target: 2, completed: false },
                    balance: { current: 0, target: 10000, completed: false },
                    streak: { current: 0, target: 3, completed: false },
                    casinos: { current: 0, target: 3, completed: false },
                    maxbet: { current: 0, target: 1, completed: false },
                    debt: { current: 0, target: 5000, completed: false },
                    lucky: { current: 0, target: 7, completed: false },
                    rich: { current: 0, target: 50000, completed: false },
                    master: { current: 0, target: 10, completed: false }
                };
                this.winStreak = 0;
                this.playedCasinos = new Set(['classic']);
                this.nicknameTimer = null;
                this.lagInterval = null;
                
                this.sounds = {
                    spin: this.createSound(300, 0.3),
                    win: this.createSound(800, 0.5),
                    credit: this.createSound(600, 0.4),
                    business: this.createSound(400, 0.3),
                    jackpot: this.createSound(1200, 1.0),
                    horror: this.createHorrorSound(),
                    scream: this.createScreamSound(),
                    static: this.createStaticSound()
                };
                
                this.loadGame();
                this.init();
            }
            
            init() {
                this.bindEvents();
                this.updateDisplay();
                this.startAmbientEffects();
                this.updateTasksDisplay();
                this.startAutoSave();
            }
            
            bindEvents() {
                // –ö–Ω–æ–ø–∫–∏ –≤—Ä–∞—â–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∫–∞–∑–∏–Ω–æ
                document.getElementById('spinBtnClassic').addEventListener('click', () => this.spin());
                document.getElementById('spinBtnRocket').addEventListener('click', () => this.spin());
                document.getElementById('spinBtnCyber').addEventListener('click', () => this.spin());
                
                // –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫
                document.querySelectorAll('.bet-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.bet-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        this.bet = parseInt(e.target.dataset.bet);
                        this.updateTaskProgress('maxbet', 0);
                    });
                });
                
                // –í—ã–±–æ—Ä –∫–∞–∑–∏–Ω–æ
                document.querySelectorAll('.casino-option').forEach(option => {
                    option.addEventListener('click', (e) => {
                        document.querySelectorAll('.casino-option').forEach(o => o.classList.remove('active'));
                        document.querySelectorAll('.game-container').forEach(g => g.classList.remove('active'));
                        
                        const casino = e.target.closest('.casino-option').dataset.casino;
                        e.target.closest('.casino-option').classList.add('active');
                        this.currentCasino = casino;
                        this.playedCasinos.add(casino);
                        document.getElementById(casino + 'Game').classList.add('active');
                        
                        this.updateTaskProgress('casinos', 0);
                    });
                });
                
                // –ö—Ä–µ–¥–∏—Ç—ã
                document.getElementById('takeCredit').addEventListener('click', () => this.takeCredit());
                document.getElementById('returnCredit').addEventListener('click', () => this.returnCredit());
                
                // –ü—Ä–æ—Ñ–∏–ª—å
                document.getElementById('profileBtn').addEventListener('click', () => this.showProfile());
                document.getElementById('closeProfile').addEventListener('click', () => this.hideProfile());
                
                // –ë–∏–∑–Ω–µ—Å-–æ–ø—Ü–∏–∏
                document.querySelectorAll('.business-option').forEach(option => {
                    option.addEventListener('click', (e) => {
                        const business = e.target.closest('.business-option').dataset.business;
                        this.startBusinessDeal(business);
                    });
                });
                
                document.getElementById('closeBusiness').addEventListener('click', () => this.hideBusinessModal());
                
                // –£–ª—É—á—à–µ–Ω–∏—è
                document.querySelectorAll('.upgrade-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const upgradeItem = e.target.closest('.upgrade-item');
                        const upgrade = upgradeItem.dataset.upgrade;
                        const price = parseInt(upgradeItem.dataset.price);
                        this.buyUpgrade(upgrade, price, upgradeItem);
                    });
                });
                
                // –ó–∞–¥–∞–Ω–∏—è
                document.querySelectorAll('.task-item').forEach(task => {
                    task.addEventListener('click', () => {
                        const taskName = task.dataset.task;
                        this.claimTask(taskName);
                    });
                });
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
                document.getElementById('playerNameInput').addEventListener('input', (e) => {
                    this.checkNickname(e.target.value);
                });
            }
            
            spin() {
                if (this.isSpinning) return;
                
                if (this.balance < this.bet) {
                    this.showNotification('–ù–ï–î–û–°–¢–ê–¢–û–ß–ù–û –°–†–ï–î–°–¢–í!', 'error');
                    return;
                }
                
                this.isSpinning = true;
                this.balance -= this.bet;
                this.updateDisplay();
                
                this.updateTaskProgress('spins', 1);
                
                if (document.getElementById('spinSound').checked) {
                    this.sounds.spin.play();
                }
                
                this.animateReels();
                
                setTimeout(() => {
                    const result = this.generateResult();
                    const winAmount = this.calculateWin(result);
                    
                    this.balance += winAmount;
                    this.updateDisplay();
                    
                    if (winAmount > 0) {
                        this.updateTaskProgress('wins', 1);
                        this.winStreak++;
                        if (winAmount >= this.bet * 50) {
                            this.updateTaskProgress('bigwin', 1);
                        }
                    } else {
                        this.winStreak = 0;
                    }
                    
                    this.updateTaskProgress('streak', 0);
                    this.updateTaskProgress('balance', 0);
                    
                    this.showResult(result, winAmount);
                    
                    this.isSpinning = false;
                    
                    if (winAmount === 0 && Math.random() < 0.3) {
                        setTimeout(() => {
                            this.showRandomBusinessOffer();
                        }, 1000);
                    }
                }, 2000);
            }
            
            generateResult() {
                let winChance = 0.45;
                if (this.upgrades.agent) winChance += 0.05;
                
                const isWin = Math.random() < winChance;
                
                const symbols = {
                    classic: ['7', 'BAR', '$', '‚òÖ'],
                    rocket: ['üöÄ', '‚≠ê', 'üõ∏', 'üåï'],
                    cyber: ['üíæ', 'üîå', 'üñ•Ô∏è', '‚ö°']
                };
                
                const currentSymbols = symbols[this.currentCasino];
                
                if (isWin) {
                    const winTypes = [
                        [currentSymbols[0], currentSymbols[0], currentSymbols[0]],
                        [currentSymbols[1], currentSymbols[1], currentSymbols[1]],
                        [currentSymbols[2], currentSymbols[2], currentSymbols[2]],
                        [currentSymbols[3], currentSymbols[3], currentSymbols[3]]
                    ];
                    
                    const random = Math.random() * 45;
                    if (random < 1) return winTypes[0];
                    if (random < 5) return winTypes[1];
                    if (random < 15) return winTypes[2];
                    return winTypes[3];
                }
                
                return [
                    currentSymbols[Math.floor(Math.random() * currentSymbols.length)],
                    currentSymbols[Math.floor(Math.random() * currentSymbols.length)],
                    currentSymbols[Math.floor(Math.random() * currentSymbols.length)]
                ];
            }
            
            calculateWin(result) {
                const isJackpot = result[0] === result[1] && result[1] === result[2];
                
                if (isJackpot) {
                    let multiplier = 100;
                    if (this.upgrades.hacker) multiplier *= 2;
                    return this.bet * multiplier;
                }
                
                let winMultiplier = 3;
                if (this.upgrades.hacker) winMultiplier *= 2;
                
                if ((result[0] === result[1] || result[1] === result[2] || result[0] === result[2]) && Math.random() < 0.3) {
                    setTimeout(() => {
                        this.showNotification('–ü–û–ß–¢–ò –í–´–ò–ì–†–ê–õ!', 'almost');
                    }, 500);
                    return this.bet * winMultiplier;
                }
                
                return 0;
            }
            
            animateReels() {
                const reels = document.querySelectorAll(`#${this.currentCasino}Game .reel-content`);
                
                reels.forEach(reel => {
                    reel.style.transition = 'none';
                    reel.style.transform = 'translateY(0)';
                });
                
                setTimeout(() => {
                    reels.forEach(reel => {
                        reel.style.transition = 'transform 2s cubic-bezier(0.1, 0.4, 0.2, 1)';
                        reel.style.transform = 'translateY(-1200px)';
                    });
                }, 10);
            }
            
            showResult(result, winAmount) {
                const reels = document.querySelectorAll(`#${this.currentCasino}Game .reel-content`);
                
                const symbolPositions = result.map((symbol, index) => {
                    const reelSymbols = Array.from(reels[index].children);
                    const symbolIndex = reelSymbols.findIndex(el => el.textContent === symbol);
                    return symbolIndex * 180;
                });
                
                setTimeout(() => {
                    reels.forEach((reel, index) => {
                        reel.style.transition = 'transform 0.5s ease-out';
                        reel.style.transform = `translateY(-${symbolPositions[index]}px)`;
                    });
                    
                    if (winAmount > 0) {
                        this.showNotification(`–í–´–ò–ì–†–´–®: $${winAmount}`, 'win');
                        if (document.getElementById('winSound').checked) {
                            if (winAmount >= this.bet * 50) {
                                this.sounds.jackpot.play();
                            } else {
                                this.sounds.win.play();
                            }
                        }
                        this.createWinEffects();
                    } else {
                        this.showNotification('–ü–†–û–ò–ì–†–´–®', 'lose');
                    }
                }, 2000);
            }
            
            takeCredit() {
                const currentMaxCredit = this.upgrades.credit ? 20 : 10;
                
                if (this.credit >= currentMaxCredit) {
                    this.showNotification('–õ–∏–º–∏—Ç –∫—Ä–µ–¥–∏—Ç–æ–≤ –∏—Å—á–µ—Ä–ø–∞–Ω!', 'error');
                    return;
                }
                
                this.credit++;
                this.balance += 1000;
                this.updateDisplay();
                this.updateTaskProgress('credit', 1);
                this.showNotification('–ö–†–ï–î–ò–¢ +$1000', 'credit');
                
                if (document.getElementById('credit').checked) {
                    this.sounds.credit.play();
                }
            }
            
            returnCredit() {
                if (this.credit === 0) {
                    this.showNotification('–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤', 'error');
                    return;
                }
                
                const returnAmount = Math.floor(1000 * 1.33);
                if (this.balance < returnAmount) {
                    this.showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞!', 'error');
                    return;
                }
                
                this.balance -= returnAmount;
                this.credit--;
                this.updateDisplay();
                this.updateTaskProgress('debt', returnAmount);
                this.showNotification(`–ö–†–ï–î–ò–¢ –ü–û–í–ï–†–ù–£–¢: $${returnAmount}`, 'credit');
            }
            
            buyUpgrade(upgrade, price, element) {
                if (this.upgrades[upgrade]) {
                    this.showNotification('–£–ª—É—á—à–µ–Ω–∏–µ —É–∂–µ –∫—É–ø–ª–µ–Ω–æ!', 'error');
                    return;
                }
                
                if (this.balance < price) {
                    this.showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!', 'error');
                    return;
                }
                
                this.balance -= price;
                this.upgrades[upgrade] = true;
                element.classList.add('purchased');
                element.querySelector('.upgrade-btn').disabled = true;
                element.querySelector('.upgrade-btn').textContent = '–ö–£–ü–õ–ï–ù–û';
                
                this.updateDisplay();
                this.updateTaskProgress('upgrade', 1);
                
                this.showNotification(`–£–õ–£–ß–®–ï–ù–ò–ï –ö–£–ü–õ–ï–ù–û: ${upgrade}`, 'win');
                
                if (upgrade === 'credit') {
                    this.maxCredit = 20;
                }
            }
            
            startBusinessDeal(businessType) {
                const deals = {
                    delivery: {
                        investment: 200,
                        minReturn: 300,
                        maxReturn: 500,
                        risk: 0.2
                    },
                    tech: {
                        investment: 500,
                        minReturn: 600,
                        maxReturn: 800,
                        risk: 0.1
                    },
                    street: {
                        investment: 1000,
                        minReturn: 2000,
                        maxReturn: 5000,
                        risk: 0.5
                    }
                };
                
                const deal = deals[businessType];
                
                let actualRisk = deal.risk;
                if (this.upgrades.police) actualRisk /= 2;
                
                if (this.balance < deal.investment) {
                    this.showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏!', 'error');
                    return;
                }
                
                this.showBusinessModal(deal, businessType, actualRisk);
            }
            
            showBusinessModal(deal, type, risk) {
                const modal = document.getElementById('businessModal');
                const title = document.getElementById('businessTitle');
                const dialog = document.getElementById('businessDialog');
                
                const businessNames = {
                    delivery: '–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ—Å—ã–ª–æ–∫',
                    tech: 'IT –£—Å–ª—É–≥–∏',
                    street: '–£–ª–∏—á–Ω—ã–µ —Å–¥–µ–ª–∫–∏'
                };
                
                title.textContent = `üíº ${businessNames[type]}`;
                
                dialog.innerHTML = `
                    <p>–ù–µ–∑–Ω–∞–∫–æ–º–µ—Ü: –≠–π, —É –º–µ–Ω—è –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ ${businessNames[type].toLowerCase()}. –ò–Ω–≤–µ—Å—Ç–∏—Ä—É–π $${deal.investment} –∏ –ø–æ–ª—É—á–∏—à—å $${deal.minReturn}-${deal.maxReturn}.</p>
                    <p style="color: var(--neon-red); font-size: 12px;">–†–∏—Å–∫: ${Math.round(risk * 100)}%</p>
                    <div class="dialog-options" style="display: flex; flex-direction: column; gap: 10px; margin-top: 20px;">
                        <button class="credit-btn dialog-option" data-response="deal" style="text-align: center;">–°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è –Ω–∞ —Å–¥–µ–ª–∫—É</button>
                        <button class="credit-btn dialog-option" data-response="police" style="text-align: center;">–≠—Ç–æ –ª–æ–≤—É—à–∫–∞?</button>
                        <button class="credit-btn dialog-option" data-response="decline" style="text-align: center;">–û—Ç–∫–∞–∑–∞—Ç—å—Å—è</button>
                    </div>
                `;
                
                modal.classList.add('active');
                
                setTimeout(() => {
                    document.querySelectorAll('.dialog-option').forEach(option => {
                        option.addEventListener('click', (e) => {
                            const response = e.target.dataset.response;
                            this.handleBusinessResponse(response, deal, risk);
                        });
                    });
                }, 100);
            }
            
            handleBusinessResponse(response, deal, risk) {
                const modal = document.getElementById('businessModal');
                
                if (response === 'deal') {
                    const success = Math.random() > risk;
                    
                    if (success) {
                        const profit = Math.floor(Math.random() * (deal.maxReturn - deal.minReturn + 1)) + deal.minReturn;
                        this.balance += profit;
                        this.updateTaskProgress('business', 1);
                        this.showNotification(`–£–°–ü–ï–®–ù–ê–Ø –°–î–ï–õ–ö–ê: +$${profit}`, 'win');
                    } else {
                        this.balance -= deal.investment;
                        this.showNotification('–ü–û–õ–ò–¶–ï–ô–°–ö–ê–Ø –ó–ê–°–ê–î–ê! –î–µ–Ω—å–≥–∏ –∫–æ–Ω—Ñ–∏—Å–∫–æ–≤–∞–Ω—ã', 'error');
                    }
                } else if (response === 'police') {
                    if (Math.random() < 0.5) {
                        this.showNotification('–ù–µ–∑–Ω–∞–∫–æ–º–µ—Ü —Å–∫—Ä—ã–ª—Å—è. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –±—ã–ª–∞ –ø–æ–ª–∏—Ü–∏—è.', 'info');
                    } else {
                        this.showNotification('–ù–µ–∑–Ω–∞–∫–æ–º–µ—Ü: –¢—ã —á—Ç–æ, –ø–∞—Ä–∞–Ω–æ–∏–∫?', 'info');
                    }
                }
                
                this.updateDisplay();
                modal.classList.remove('active');
            }
            
            hideBusinessModal() {
                document.getElementById('businessModal').classList.remove('active');
            }
            
            showRandomBusinessOffer() {
                const businesses = ['delivery', 'tech', 'street'];
                const randomBusiness = businesses[Math.floor(Math.random() * businesses.length)];
                this.startBusinessDeal(randomBusiness);
            }
            
            updateTaskProgress(taskName, increment) {
                if (this.tasks[taskName].completed) return;
                
                if (taskName === 'balance') {
                    this.tasks[taskName].current = this.balance;
                } else if (taskName === 'streak') {
                    this.tasks[taskName].current = this.winStreak;
                } else if (taskName === 'casinos') {
                    this.tasks[taskName].current = this.playedCasinos.size;
                } else if (taskName === 'maxbet') {
                    if (this.bet >= 3000) {
                        this.tasks[taskName].current = 1;
                    }
                } else if (taskName === 'debt') {
                    this.tasks[taskName].current += increment;
                } else {
                    this.tasks[taskName].current += increment;
                }
                
                if (this.tasks[taskName].current >= this.tasks[taskName].target) {
                    this.tasks[taskName].completed = true;
                }
                
                this.updateTasksDisplay();
            }
            
            claimTask(taskName) {
                const task = this.tasks[taskName];
                
                if (!task.completed) {
                    this.showNotification('–ó–∞–¥–∞–Ω–∏–µ –µ—â–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!', 'error');
                    return;
                }
                
                const reward = parseInt(document.querySelector(`[data-task="${taskName}"]`).dataset.reward);
                this.balance += reward;
                this.updateDisplay();
                
                this.showNotification(`–ó–ê–î–ê–ù–ò–ï –í–´–ü–û–õ–ù–ï–ù–û! +$${reward}`, 'win');
                
                const taskElement = document.querySelector(`[data-task="${taskName}"]`);
                taskElement.style.animation = 'taskComplete 0.5s ease';
                
                setTimeout(() => {
                    taskElement.style.animation = '';
                }, 500);
                
                this.updateTaskProgress('master', 1);
            }
            
            updateTasksDisplay() {
                Object.keys(this.tasks).forEach(taskName => {
                    const task = this.tasks[taskName];
                    const taskElement = document.querySelector(`[data-task="${taskName}"]`);
                    
                    if (taskElement) {
                        const currentSpan = taskElement.querySelector('.task-current');
                        const progressBar = taskElement.querySelector('.task-progress-bar');
                        
                        currentSpan.textContent = task.current;
                        const progress = Math.min(100, (task.current / task.target) * 100);
                        progressBar.style.width = `${progress}%`;
                        
                        if (task.completed) {
                            taskElement.classList.add('completed');
                        }
                    }
                });
            }
            
            checkNickname(nickname) {
                const forbiddenNames = ['haker_one', 'hakerone', 'pic', 'haker', '–ø–∏–∫'];
                const lowerNickname = nickname.toLowerCase();
                
                if (forbiddenNames.some(name => lowerNickname.includes(name))) {
                    this.showNotification('–°–ú–ï–ù–ò–¢–ï –ù–ò–ö –í –¢–ï–ß–ï–ù–ò–ò 10 –°–ï–ö–£–ù–î!', 'error');
                    
                    if (this.nicknameTimer) {
                        clearTimeout(this.nicknameTimer);
                    }
                    
                    this.nicknameTimer = setTimeout(() => {
                        this.activateLagMachine();
                    }, 10000);
                } else {
                    if (this.nicknameTimer) {
                        clearTimeout(this.nicknameTimer);
                        this.nicknameTimer = null;
                    }
                    document.getElementById('playerName').textContent = nickname;
                }
            }
            
            activateLagMachine() {
                const lagMachine = document.getElementById('lagMachine');
                const timerElement = document.getElementById('lagTimer');
                const horrorElements = document.getElementById('horrorElements');
                
                // –í–∫–ª—é—á–∞–µ–º –∑–≤—É–∫–∏ —É–∂–∞—Å–∞
                if (document.getElementById('bgSound').checked) {
                    this.sounds.horror.play();
                    this.sounds.static.play();
                }
                
                lagMachine.classList.add('active');
                
                let seconds = 30;
                const timer = setInterval(() => {
                    seconds--;
                    timerElement.textContent = seconds;
                    
                    // –°–æ–∑–¥–∞–µ–º —Ö–æ—Ä—Ä–æ—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã
                    this.createHorrorEffects();
                    
                    if (seconds <= 0) {
                        clearInterval(timer);
                        this.resetGame();
                        lagMachine.classList.remove('active');
                        if (document.getElementById('bgSound').checked) {
                            this.sounds.scream.play();
                        }
                    }
                }, 1000);
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –ª–∞–≥-—ç—Ñ—Ñ–µ–∫—Ç—ã
                this.startLagEffects();
            }
            
            createHorrorEffects() {
                const horrorElements = document.getElementById('horrorElements');
                
                // –ö—Ä–æ–≤–∞–≤—ã–µ –∫–∞–ø–ª–∏
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        const blood = document.createElement('div');
                        blood.className = 'blood-drip';
                        blood.textContent = 'üíß';
                        blood.style.left = Math.random() * 100 + 'vw';
                        blood.style.animation = `bloodDrip ${Math.random() * 2 + 1}s linear`;
                        horrorElements.appendChild(blood);
                        
                        setTimeout(() => blood.remove(), 2000);
                    }, i * 200);
                }
                
                // –ö—Ä–∏—á–∞—â–∏–π —Ç–µ–∫—Å—Ç
                if (Math.random() < 0.3) {
                    const scream = document.createElement('div');
                    scream.className = 'scream-text';
                    scream.textContent = ['–ü–û–ú–û–ì–ò!', '–°–ü–ê–°–ò!', '–£–ë–ò–í–ê–Æ–¢!', '–ë–ï–ì–ò!'][Math.floor(Math.random() * 4)];
                    scream.style.left = Math.random() * 70 + 15 + 'vw';
                    scream.style.top = Math.random() * 70 + 15 + 'vh';
                    horrorElements.appendChild(scream);
                    
                    setTimeout(() => scream.remove(), 2000);
                }
                
                // –°—Ç—Ä–∞—à–Ω—ã–µ –ª–∏—Ü–∞
                if (Math.random() < 0.2) {
                    const face = document.createElement('div');
                    face.className = 'horror-face';
                    face.textContent = ['üëπ', 'üíÄ', 'üëª', 'ü§°'][Math.floor(Math.random() * 4)];
                    face.style.left = Math.random() * 80 + 10 + 'vw';
                    face.style.top = Math.random() * 80 + 10 + 'vh';
                    horrorElements.appendChild(face);
                    
                    setTimeout(() => face.remove(), 1000);
                }
            }
            
            startLagEffects() {
                // –°–æ–∑–¥–∞–µ–º —Ç—ã—Å—è—á–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ª–∞–≥–∞
                this.lagInterval = setInterval(() => {
                    for (let i = 0; i < 100; i++) {
                        const lagElement = document.createElement('div');
                        lagElement.style.position = 'fixed';
                        lagElement.style.top = Math.random() * 100 + 'vh';
                        lagElement.style.left = Math.random() * 100 + 'vw';
                        lagElement.style.width = Math.random() * 100 + 50 + 'px';
                        lagElement.style.height = Math.random() * 100 + 50 + 'px';
                        lagElement.style.background = this.getRandomGradient();
                        lagElement.style.opacity = Math.random() * 0.3;
                        lagElement.style.zIndex = '9998';
                        lagElement.style.pointerEvents = 'none';
                        lagElement.style.animation = `lagEffect ${Math.random() * 0.5 + 0.1}s infinite`;
                        
                        document.body.appendChild(lagElement);
                        
                        setTimeout(() => {
                            if (lagElement.parentNode) {
                                lagElement.parentNode.removeChild(lagElement);
                            }
                        }, 1000);
                    }
                }, 100);
            }
            
            getRandomGradient() {
                const colors = [
                    'var(--neon-pink)', 'var(--neon-blue)', 'var(--neon-green)', 
                    'var(--neon-red)', 'var(--neon-purple)', 'var(--neon-orange)'
                ];
                const color1 = colors[Math.floor(Math.random() * colors.length)];
                const color2 = colors[Math.floor(Math.random() * colors.length)];
                return `linear-gradient(45deg, ${color1}, ${color2})`;
            }
            
            resetGame() {
                // –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –∏–≥—Ä—ã
                this.balance = 0;
                this.credit = 0;
                this.bet = 100;
                
                // –°–±—Ä–æ—Å —É–ª—É—á—à–µ–Ω–∏–π
                this.upgrades = {
                    agent: false,
                    hacker: false,
                    police: false,
                    credit: false
                };
                
                // –°–±—Ä–æ—Å –∑–∞–¥–∞–Ω–∏–π
                Object.keys(this.tasks).forEach(task => {
                    this.tasks[task].current = 0;
                    this.tasks[task].completed = false;
                });
                
                // –°–±—Ä–æ—Å –Ω–∏–∫–∞
                document.getElementById('playerName').textContent = '–ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û';
                document.getElementById('playerNameInput').value = '–ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û';
                
                this.updateDisplay();
                this.updateTasksDisplay();
                
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–∞–≥ —ç—Ñ—Ñ–µ–∫—Ç—ã
                if (this.lagInterval) {
                    clearInterval(this.lagInterval);
                }
                
                this.showNotification('–í–°–ï –î–ê–ù–ù–´–ï –°–ë–†–û–®–ï–ù–´! –ù–ê–ß–ù–ò–¢–ï –ó–ê–ù–û–í–û.', 'error');
            }
            
            showProfile() {
                document.getElementById('profileModal').classList.add('active');
            }
            
            hideProfile() {
                document.getElementById('profileModal').classList.remove('active');
            }
            
            showNotification(message, type) {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.className = 'notification';
                
                const colors = {
                    win: { bg: 'rgba(0, 255, 0, 0.95)', border: 'var(--neon-green)' },
                    error: { bg: 'rgba(255, 0, 0, 0.95)', border: 'var(--neon-pink)' },
                    credit: { bg: 'rgba(0, 255, 255, 0.95)', border: 'var(--neon-blue)' },
                    almost: { bg: 'rgba(255, 165, 0, 0.95)', border: 'var(--neon-orange)' },
                    info: { bg: 'rgba(255, 0, 255, 0.95)', border: 'var(--neon-purple)' },
                    lose: { bg: 'rgba(128, 128, 128, 0.95)', border: '#888' }
                };
                
                const style = colors[type] || colors.info;
                notification.style.background = style.bg;
                notification.style.borderColor = style.border;
                
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            updateDisplay() {
                document.getElementById('balance').textContent = this.balance;
                document.getElementById('credit').textContent = this.credit;
            }
            
            createSound(frequency, duration) {
                return {
                    play: () => {
                        if (!document.getElementById('bgSound').checked) return;
                        
                        try {
                            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                            const oscillator = audioContext.createOscillator();
                            const gainNode = audioContext.createGain();
                            
                            oscillator.connect(gainNode);
                            gainNode.connect(audioContext.destination);
                            
                            oscillator.frequency.value = frequency;
                            oscillator.type = 'square';
                            
                            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
                            
                            oscillator.start(audioContext.currentTime);
                            oscillator.stop(audioContext.currentTime + duration);
                        } catch (e) {
                            console.log('Audio not supported');
                        }
                    }
                };
            }
            
            createHorrorSound() {
                return {
                    play: () => {
                        if (!document.getElementById('bgSound').checked) return;
                        
                        try {
                            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                            
                            // –°–æ–∑–¥–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä–æ–≤ –¥–ª—è –∂—É—Ç–∫–æ–≥–æ –∑–≤—É–∫–∞
                            for (let i = 0; i < 3; i++) {
                                const oscillator = audioContext.createOscillator();
                                const gainNode = audioContext.createGain();
                                
                                oscillator.connect(gainNode);
                                gainNode.connect(audioContext.destination);
                                
                                oscillator.frequency.value = 100 + Math.random() * 400;
                                oscillator.type = 'sawtooth';
                                
                                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 3);
                                
                                oscillator.start(audioContext.currentTime);
                                oscillator.stop(audioContext.currentTime + 3);
                            }
                        } catch (e) {
                            console.log('Audio not supported');
                        }
                    }
                };
            }
            
            createScreamSound() {
                return {
                    play: () => {
                        if (!document.getElementById('bgSound').checked) return;
                        
                        try {
                            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                            const oscillator = audioContext.createOscillator();
                            const gainNode = audioContext.createGain();
                            
                            oscillator.connect(gainNode);
                            gainNode.connect(audioContext.destination);
                            
                            oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
                            oscillator.frequency.exponentialRampToValueAtTime(800, audioContext.currentTime + 1);
                            oscillator.type = 'sawtooth';
                            
                            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
                            
                            oscillator.start(audioContext.currentTime);
                            oscillator.stop(audioContext.currentTime + 1);
                        } catch (e) {
                            console.log('Audio not supported');
                        }
                    }
                };
            }
            
            createStaticSound() {
                return {
                    play: () => {
                        if (!document.getElementById('bgSound').checked) return;
                        
                        try {
                            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                            const bufferSize = 2 * audioContext.sampleRate;
                            const noiseBuffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
                            const output = noiseBuffer.getChannelData(0);
                            
                            for (let i = 0; i < bufferSize; i++) {
                                output[i] = Math.random() * 2 - 1;
                            }
                            
                            const noise = audioContext.createBufferSource();
                            noise.buffer = noiseBuffer;
                            const gainNode = audioContext.createGain();
                            gainNode.gain.value = 0.1;
                            
                            noise.connect(gainNode);
                            gainNode.connect(audioContext.destination);
                            
                            noise.start();
                            noise.stop(audioContext.currentTime + 30);
                        } catch (e) {
                            console.log('Audio not supported');
                        }
                    }
                };
            }
            
            createWinEffects() {
                if (!document.getElementById('particles').checked) return;
                
                for (let i = 0; i < 30; i++) {
                    this.createParticle();
                }
                
                if (document.getElementById('heavyEffects').checked) {
                    this.createExplosionEffect();
                }
            }
            
            createParticle() {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.width = Math.random() * 8 + 4 + 'px';
                particle.style.height = particle.style.width;
                particle.style.background = ['var(--neon-pink)', 'var(--neon-blue)', 'var(--neon-green)', 'var(--neon-purple)', 'var(--neon-orange)'][Math.floor(Math.random() * 5)];
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                
                document.body.appendChild(particle);
                
                const animation = particle.animate([
                    { transform: 'translate(0, 0) rotate(0deg)', opacity: 1 },
                    { transform: `translate(${Math.random() * 200 - 100}px, ${Math.random() * 200 - 100}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 1000,
                    easing: 'ease-out'
                });
                
                animation.onfinish = () => particle.remove();
            }
            
            createExplosionEffect() {
                const effect = document.createElement('div');
                effect.className = 'win-effect';
                effect.style.background = `radial-gradient(circle, transparent 0%, ${['var(--neon-pink)', 'var(--neon-blue)', 'var(--neon-green)'][Math.floor(Math.random() * 3)]} 50%, transparent 100%)`;
                effect.style.opacity = '0.3';
                
                document.body.appendChild(effect);
                
                const animation = effect.animate([
                    { transform: 'scale(0)', opacity: 0.5 },
                    { transform: 'scale(2)', opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'ease-out'
                });
                
                animation.onfinish = () => effect.remove();
            }
            
            startAmbientEffects() {
                setInterval(() => {
                    if (Math.random() < 0.1 && document.getElementById('heavyEffects').checked) {
                        const elements = document.querySelectorAll('.slot-machine, .casino-option');
                        elements.forEach(el => {
                            el.classList.add('glitch-text');
                            setTimeout(() => {
                                el.classList.remove('glitch-text');
                            }, 200);
                        });
                    }
                }, 5000);
                
                if (document.getElementById('neonEffects').checked) {
                    setInterval(() => {
                        const neons = document.querySelectorAll('.balance, .casino-icon, .reel-symbol');
                        neons.forEach(neon => {
                            neon.style.animation = 'neon-flicker ' + (Math.random() * 2 + 1) + 's infinite';
                        });
                    }, 3000);
                }
            }
            
            startAutoSave() {
                setInterval(() => {
                    this.saveGame();
                }, 10000);
            }
            
            saveGame() {
                const gameData = {
                    balance: this.balance,
                    credit: this.credit,
                    bet: this.bet,
                    upgrades: this.upgrades,
                    tasks: this.tasks,
                    winStreak: this.winStreak,
                    playedCasinos: Array.from(this.playedCasinos),
                    playerName: document.getElementById('playerName').textContent
                };
                
                localStorage.setItem('casinoGame', JSON.stringify(gameData));
            }
            
            loadGame() {
                const savedData = localStorage.getItem('casinoGame');
                if (savedData) {
                    try {
                        const gameData = JSON.parse(savedData);
                        
                        this.balance = gameData.balance || 1000;
                        this.credit = gameData.credit || 0;
                        this.bet = gameData.bet || 100;
                        this.upgrades = gameData.upgrades || this.upgrades;
                        this.tasks = gameData.tasks || this.tasks;
                        this.winStreak = gameData.winStreak || 0;
                        this.playedCasinos = new Set(gameData.playedCasinos || ['classic']);
                        
                        if (gameData.playerName) {
                            document.getElementById('playerName').textContent = gameData.playerName;
                            document.getElementById('playerNameInput').value = gameData.playerName;
                        }
                        
                        Object.keys(this.upgrades).forEach(upgrade => {
                            if (this.upgrades[upgrade]) {
                                const upgradeElement = document.querySelector(`[data-upgrade="${upgrade}"]`);
                                if (upgradeElement) {
                                    upgradeElement.classList.add('purchased');
                                    const btn = upgradeElement.querySelector('.upgrade-btn');
                                    btn.disabled = true;
                                    btn.textContent = '–ö–£–ü–õ–ï–ù–û';
                                }
                            }
                        });
                        
                        this.showNotification('–ò–ì–†–ê –ó–ê–ì–†–£–ñ–ï–ù–ê', 'info');
                    } catch (e) {
                        console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã');
                    }
                }
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        document.addEventListener('DOMContentLoaded', () => {
            new CasinoGame();
        });
    </script>
</body>
</html>
