<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–ò–ë–†–ê–¶–ò–û–ù–ù–´–ô –ü–°–ò–•–û–¢–ï–°–¢ 3000</title>
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #000000;
            color: #10b981;
            font-family: 'Courier New', monospace;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            padding: 10px;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç —á–∞—Å—Ç–∏—Ü */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
            top: 0;
            left: 0;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 15px;
            position: relative;
            z-index: 1;
        }
        
        /* –°—Ç–∏–ª–∏ —ç–∫—Ä–∞–Ω–æ–≤ */
        .screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            text-align: center;
            padding: 20px;
            border-radius: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.3);
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.2);
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .active {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
        h1, h2, h3 {
            color: #8b5cf6;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
        }
        
        h1 {
            font-size: 2rem;
            background: linear-gradient(90deg, #10b981, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            background: linear-gradient(135deg, #10b981, #8b5cf6);
            color: #000000;
            border: none;
            padding: 12px 25px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            margin: 10px;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn:disabled {
            background: #333;
            color: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä */
        .progress-container {
            width: 90%;
            height: 20px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
            border: 1px solid rgba(139, 92, 246, 0.3);
        }
        
        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #10b981, #8b5cf6);
            border-radius: 10px;
            transition: width 0.5s ease-in-out;
        }
        
        /* –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ */
        .options {
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 100%;
            margin: 20px 0;
        }
        
        .option {
            background-color: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
            padding: 15px;
            margin: 8px 0;
            cursor: pointer;
            border-radius: 15px;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
            text-align: left;
            opacity: 0;
            transform: translateX(-20px);
        }
        
        .option.show {
            opacity: 1;
            transform: translateX(0);
        }
        
        .option:hover {
            background-color: rgba(16, 185, 129, 0.2);
            transform: translateX(10px);
        }
        
        .option.selected {
            background-color: rgba(139, 92, 246, 0.2);
            border-color: #8b5cf6;
            transform: translateX(15px);
        }
        
        /* –ü–æ–ª–∑—É–Ω–æ–∫ */
        .slider-container {
            width: 90%;
            margin: 25px 0;
        }
        
        .slider {
            width: 100%;
            height: 25px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(0, 0, 0, 0.5);
            outline: none;
            border-radius: 15px;
            border: 1px solid rgba(139, 92, 246, 0.3);
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: linear-gradient(135deg, #10b981, #8b5cf6);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
        }
        
        .slider-value {
            margin-top: 10px;
            font-size: 1.2rem;
        }
        
        /* –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ */
        .color-palette {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform: scale(0.8);
        }
        
        .color-option.show {
            opacity: 1;
            transform: scale(1);
        }
        
        .color-option:hover {
            transform: scale(1.2);
        }
        
        .color-option.selected {
            border-color: #10b981;
            box-shadow: 0 0 15px #10b981;
            transform: scale(1.3);
        }
        
        /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ */
        .number-input {
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: #10b981;
            padding: 12px;
            font-size: 1.3rem;
            width: 150px;
            text-align: center;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            border-radius: 15px;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.5s ease;
        }
        
        .number-input.show {
            opacity: 1;
            transform: scale(1);
        }
        
        /* –≠–º–æ–¥–∑–∏ */
        .emoji-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .emoji {
            font-size: 2rem;
            cursor: pointer;
            padding: 10px;
            border: 1px solid transparent;
            border-radius: 15px;
            transition: all 0.3s ease;
            background: rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: scale(0.8);
        }
        
        .emoji.show {
            opacity: 1;
            transform: scale(1);
        }
        
        .emoji:hover {
            border-color: #10b981;
            transform: scale(1.2);
        }
        
        .emoji.selected {
            border-color: #8b5cf6;
            background-color: rgba(139, 92, 246, 0.2);
            transform: scale(1.3);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100vh); }
        }
        
        .scan-line {
            position: absolute;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, transparent, #10b981, transparent);
            animation: scan 2s linear infinite;
            left: 0;
            z-index: 2;
        }
        
        @keyframes vibration {
            0% { transform: translate(0, 0) rotate(0deg); }
            10% { transform: translate(-5px, -5px) rotate(-1deg); }
            20% { transform: translate(5px, 5px) rotate(1deg); }
            30% { transform: translate(-5px, 5px) rotate(-1deg); }
            40% { transform: translate(5px, -5px) rotate(1deg); }
            50% { transform: translate(-5px, -5px) rotate(-1deg); }
            60% { transform: translate(5px, 5px) rotate(1deg); }
            70% { transform: translate(-5px, 5px) rotate(-1deg); }
            80% { transform: translate(5px, -5px) rotate(1deg); }
            90% { transform: translate(-5px, -5px) rotate(-1deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        
        .vibrate {
            animation: vibration 0.1s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        .blink {
            animation: blink 0.5s infinite;
        }
        
        @keyframes colorChange {
            0% { background-color: rgba(0, 0, 0, 0.7); }
            25% { background-color: rgba(16, 185, 129, 0.2); }
            50% { background-color: rgba(139, 92, 246, 0.2); }
            75% { background-color: rgba(0, 0, 0, 0.7); }
            100% { background-color: rgba(16, 185, 129, 0.2); }
        }
        
        .color-change {
            animation: colorChange 0.3s infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .float {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-5px, 5px); }
            40% { transform: translate(-5px, -5px); }
            60% { transform: translate(5px, 5px); }
            80% { transform: translate(5px, -5px); }
            100% { transform: translate(0); }
        }
        
        .glitch {
            animation: glitch 0.5s infinite;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease forwards;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .slide-in {
            animation: slideIn 0.6s ease forwards;
        }
        
        @keyframes neon {
            0%, 100% { text-shadow: 0 0 5px #10b981, 0 0 10px #10b981, 0 0 15px #10b981, 0 0 20px #8b5cf6; }
            50% { text-shadow: 0 0 10px #8b5cf6, 0 0 20px #8b5cf6, 0 0 30px #8b5cf6, 0 0 40px #8b5cf6; }
        }
        
        .neon {
            animation: neon 2s infinite alternate;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .rotate {
            animation: rotate 10s linear infinite;
        }
        
        /* –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–Ω–µ–ª—å */
        .diagnostic-panel {
            width: 100%;
            margin: 20px 0;
            padding: 15px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 15px;
            background-color: rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.5s ease;
        }
        
        .diagnostic-panel.show {
            opacity: 1;
            transform: scale(1);
        }
        
        .gauge {
            width: 100%;
            height: 25px;
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 15px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .gauge-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #8b5cf6);
            width: 0%;
            transition: width 1s ease-in-out;
            border-radius: 15px;
        }
        
        .chart {
            width: 100%;
            height: 120px;
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(139, 92, 246, 0.3);
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
        }
        
        .chart-line {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 2px;
            background-color: #10b981;
        }
        
        .warning {
            color: #ff0000;
            font-weight: bold;
            text-transform: uppercase;
            margin: 10px 0;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }
        
        /* –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç */
        .certificate {
            border: 3px double #8b5cf6;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            text-align: center;
            position: relative;
            max-width: 100%;
            margin: 0 auto;
            border-radius: 20px;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.5s ease;
        }
        
        .certificate.show {
            opacity: 1;
            transform: scale(1);
        }
        
        .certificate:before, .certificate:after {
            content: "‚ú¶";
            position: absolute;
            top: 10px;
            font-size: 1.5rem;
            color: #10b981;
        }
        
        .certificate:before {
            left: 10px;
        }
        
        .certificate:after {
            right: 10px;
        }
        
        .seal {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #8b5cf6;
            margin: 15px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            text-transform: uppercase;
            transform: rotate(-15deg);
            background: rgba(0, 0, 0, 0.7);
        }
        
        /* –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è */
        .warning-sign {
            position: fixed;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #ff0000, #ff6b6b);
            color: #000000;
            padding: 8px 15px;
            font-weight: bold;
            border-radius: 50px;
            z-index: 100;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
            font-size: 0.9rem;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ */
        .neural-network {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.1;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è Telegram */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            h2 {
                font-size: 1.3rem;
            }
            
            .screen {
                padding: 15px;
                min-height: 70vh;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            
            .option {
                padding: 12px;
                font-size: 0.9rem;
            }
            
            .emoji {
                font-size: 1.8rem;
            }
        }
        
        /* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è Telegram Web App */
        @media (max-height: 700px) {
            .screen {
                min-height: 85vh;
            }
            
            h1 {
                font-size: 1.4rem;
                margin-bottom: 15px;
            }
            
            .btn {
                margin: 5px;
            }
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div class="neural-network" id="neuralNetwork"></div>
    <div class="warning-sign blink">–û–ü–ê–°–ù–û –î–õ–Ø –ü–°–ò–•–ò–ö–ò</div>
    
    <div class="container">
        <!-- –≠–∫—Ä–∞–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è -->
        <div id="welcome-screen" class="screen active">
            <h1 class="float neon">–ü–°–ò–•–û–¢–ï–°–¢ 3000</h1>
            <p class="fade-in">–°–ò–°–¢–ï–ú–ê –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò –ü–°–ò–•–ò–ß–ï–°–ö–ò–• –í–ò–ë–†–ê–¶–ò–ô</p>
            <div class="diagnostic-panel fade-in">
                <p>–°–¢–ê–¢–£–°: –ì–û–¢–û–í –ö –†–ê–ë–û–¢–ï</p>
                <p class="warning">–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –¢–ï–°–¢ –ú–û–ñ–ï–¢ –í–´–ó–í–ê–¢–¨ –í–†–ï–ú–ï–ù–ù–£–Æ –î–ï–ó–û–†–ò–ï–ù–¢–ê–¶–ò–Æ</p>
            </div>
            <button id="start-btn" class="btn pulse">–ó–ê–ü–£–°–¢–ò–¢–¨</button>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ -->
        <div id="calibration-screen" class="screen">
            <div class="scan-line"></div>
            <h2 class="neon">–ü–°–ò–•–ò–ß–ï–°–ö–ê–Ø –ö–ê–õ–ò–ë–†–û–í–ö–ê</h2>
            <p id="calibration-text">–ö–ê–õ–ò–ë–†–û–í–ö–ê –ù–ï–ô–†–û–ù–û–í...</p>
            <div class="progress-container">
                <div id="calibration-progress" class="progress-bar"></div>
            </div>
        </div>
        
        <!-- –í–æ–ø—Ä–æ—Å—ã -->
        <div id="question-screen" class="screen">
            <h2 id="question-number" class="slide-in">–í–û–ü–†–û–° 1</h2>
            <p id="question-text" class="slide-in"></p>
            <div id="question-options" class="options"></div>
            <button id="next-question-btn" class="btn" disabled>–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –≤–∏–±—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ -->
        <div id="analysis-screen" class="screen">
            <h2 class="blink glitch neon">–í–ò–ë–†–ê–¶–ò–û–ù–ù–´–ô –ê–ù–ê–õ–ò–ó –ü–°–ò–•–ò–ö–ò</h2>
            <p class="warning">–ù–ï –í–´–ö–õ–Æ–ß–ê–¢–¨!</p>
            <div class="progress-container">
                <div id="analysis-progress" class="progress-bar"></div>
            </div>
            <div id="analysis-effects"></div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div id="result-screen" class="screen">
            <h2 class="neon">–î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ò–ô –û–¢–ß–Å–¢</h2>
            <div class="diagnostic-panel" id="result-panel">
                <h3 id="result-type">–¢–ò–ü –õ–ò–ß–ù–û–°–¢–ò</h3>
                <p id="result-description">–û–ü–ò–°–ê–ù–ò–ï</p>
                
                <div class="gauge">
                    <div class="gauge-label">–ù–û–†–ú–ê–õ–¨–ù–û–°–¢–¨</div>
                    <div id="normality-gauge" class="gauge-fill"></div>
                </div>
                <div id="normality-value" class="gauge-value">0%</div>
                
                <div class="gauge">
                    <div class="gauge-label">–û–°–û–ë–ï–ù–ù–û–°–¢–¨</div>
                    <div id="special-gauge" class="gauge-fill"></div>
                </div>
                <div id="special-value" class="gauge-value">0%</div>
                
                <div class="chart">
                    <div class="chart-label">–≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ö–û–õ–ï–ë–ê–ù–ò–Ø</div>
                    <div id="chart-line" class="chart-line"></div>
                </div>
                
                <p class="warning">–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –ü–û–í–¢–û–†–ò–¢–¨ –¢–ï–°–¢ –ß–ï–†–ï–ó 5 –ú–ò–ù–£–¢</p>
            </div>
            
            <div class="certificate" id="certificate">
                <h3>–°–ï–†–¢–ò–§–ò–ö–ê–¢ –ü–†–û–•–û–ñ–î–ï–ù–ò–Ø –¢–ï–°–¢–ê</h3>
                <p>–ù–∞—Å—Ç–æ—è—â–∏–º —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ —Å—É–±—ä–µ–∫—Ç –ø—Ä–æ—à–µ–ª</p>
                <p>–í–ò–ë–†–ê–¶–ò–û–ù–ù–´–ô –ü–°–ò–•–û–¢–ï–°–¢ 3000</p>
                <p>–∏ –±—ã–ª –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –∫–∞–∫:</p>
                <h4 id="certificate-type">–¢–ò–ü –õ–ò–ß–ù–û–°–¢–ò</h4>
                <div class="seal rotate">
                    –û–§–ò–¶–ò–ê–õ–¨–ù–ê–Ø –ü–ï–ß–ê–¢–¨
                </div>
                <p>–î–∞—Ç–∞: <span id="certificate-date"></span></p>
            </div>
            
            <button id="restart-btn" class="btn pulse">–ü–†–û–ô–¢–ò –¢–ï–°–¢ –°–ù–û–í–ê</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü
        particlesJS("particles-js", {
            particles: {
                number: { value: 60, density: { enable: true, value_area: 800 } },
                color: { value: ["#10b981", "#8b5cf6"] },
                shape: { type: "circle" },
                opacity: { value: 0.5, random: true },
                size: { value: 3, random: true },
                line_linked: {
                    enable: true,
                    distance: 150,
                    color: "#8b5cf6",
                    opacity: 0.2,
                    width: 1
                },
                move: {
                    enable: true,
                    speed: 2,
                    direction: "none",
                    random: true,
                    straight: false,
                    out_mode: "out",
                    bounce: false
                }
            },
            interactivity: {
                detect_on: "canvas",
                events: {
                    onhover: { enable: true, mode: "repulse" },
                    onclick: { enable: true, mode: "push" },
                    resize: true
                }
            }
        });
        
        // –î–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–∞
        const questions = [
            {
                text: "–ö–ê–ö–û–ô –ó–í–£–ö –ò–ó–î–ê–Å–¢ –†–ê–î–£–ì–ê?",
                type: "multiple",
                options: [
                    { text: "–ù–µ–∂–Ω—ã–π –ø–µ—Ä–µ–∑–≤–æ–Ω —Ö—Ä—É—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–æ–≤ üåà", value: 1 },
                    { text: "–®—ë–ø–æ—Ç –≤—Å–µ–ª–µ–Ω–Ω–æ–π –Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–º —è–∑—ã–∫–µ üé∂", value: 2 },
                    { text: "–†–∞–¥—É–≥–∞ –±–µ–∑–∑–≤—É—á–Ω–∞, –∫–∞–∫ —Ç–≤–æ–∏ –º—ã—Å–ª–∏ –æ —Å–º—ã—Å–ª–µ –∂–∏–∑–Ω–∏ ü§´", value: 3 },
                    { text: "–ó–≤—É–∫ –º–æ–∏—Ö –Ω–µ—Ä–≤–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫, —É–º–∏—Ä–∞—é—â–∏—Ö –æ—Ç —ç—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ üíÄ", value: 4 }
                ]
            },
            {
                text: "–°–ö–û–õ–¨–ö–û –í–ï–°–ò–¢ –¢–í–û–Ø –°–û–í–ï–°–¢–¨ –í –ö–ò–õ–û–ì–†–ê–ú–ú–ê–•?",
                type: "slider",
                min: -5,
                max: 50,
                step: 1
            },
            {
                text: "–ö–ê–ö–û–ô –¶–í–ï–¢ –£ –¢–í–û–ï–ì–û –í–ù–£–¢–†–ï–ù–ù–ï–ì–û –ö–†–ò–ö–ê?",
                type: "color",
                colors: ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF", "#00FFFF", "#FFFFFF", "#000000", "#FFA500", "#800080"]
            },
            {
                text: "–ï–°–õ–ò –ë–´ –¢–í–û–ò –ú–´–°–õ–ò –ë–´–õ–ò –ï–î–û–ô, –≠–¢–û –ë–´–õ–û –ë–´:",
                type: "multiple",
                options: [
                    { text: "–ü–∏—Ü—Ü–∞ —Å –∞–Ω–∞–Ω–∞—Å–∞–º–∏ üçç", value: 1 },
                    { text: "–°—É–ø —Å –∫–æ–Ω—Ñ–µ—Ç–∞–º–∏ üç¨", value: 2 },
                    { text: "–ë–æ—Ä—â —Å —à–æ–∫–æ–ª–∞–¥–æ–º üç´", value: 3 },
                    { text: "–í–æ–∑–¥—É—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã—Å–ª–µ–π –Ω–µ—Ç üí®", value: 4 }
                ]
            },
            {
                text: "–°–ö–û–õ–¨–ö–û DIMENSION–û–í –í –¢–í–û–Å–ú –í–û–û–ë–†–ê–ñ–ï–ù–ò–ò?",
                type: "number"
            },
            {
                text: "–ö–ê–ö–û–ô –°–£–ü–ï–†–°–ü–û–°–û–ë–ù–û–°–¢–¨ –¢–´ –í–´–ë–ï–†–ï–®–¨?",
                type: "multiple",
                options: [
                    { text: "–£–º–µ–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å —Å WiFi-—Ä–æ—É—Ç–µ—Ä–∞–º–∏ üì°", value: 1 },
                    { text: "–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –Ω–æ—Å–∫–∏ –≤ 4-–º –∏–∑–º–µ—Ä–µ–Ω–∏–∏ üß¶", value: 2 },
                    { text: "–ò—Å–∫—É—Å—Å—Ç–≤–æ –≥–æ—Ç–æ–≤–∏—Ç—å –ø–µ–ª—å–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω—è—é—Ç —Ç–≤–æ—é —Å—É–¥—å–±—É ü•ü", value: 3 }
                ]
            },
            {
                text: "–û–ü–ò–®–ò –°–í–û–Æ –î–£–®–£ –¢–†–ï–ú–Ø –≠–ú–û–î–ó–ò",
                type: "emoji",
                emojis: ["üòÄ", "üòé", "ü§î", "üò¢", "üò°", "ü§™", "üëª", "ü§ñ", "üëΩ", "üíÄ", "‚ù§Ô∏è", "üî•", "üåà", "‚≠ê", "üåÄ", "üé≠", "üé™", "üí´", "‚ú®", "‚ö°"]
            },
            {
                text: "–ß–¢–û –ë–´ –¢–´ –°–ö–ê–ó–ê–õ –°–í–û–ï–ú–£ –û–¢–†–ê–ñ–ï–ù–ò–Æ –í –ó–ï–†–ö–ê–õ–ï –ò–ó –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û–ô –í–°–ï–õ–ï–ù–ù–û–ô?",
                type: "multiple",
                options: [
                    { text: "–¢—ã –≤—ã–≥–ª—è–¥–∏—à—å —É—Å—Ç–∞–≤—à–∏–º, —Ö–æ—á–µ—à—å —á–∞—é? ‚òï", value: 1 },
                    { text: "–ú—ã –¥–æ–ª–∂–Ω—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å—Å—è –∏ –∑–∞—Ö–≤–∞—Ç–∏—Ç—å —ç—Ç–æ—Ç –º–∏—Ä! üåç", value: 2 },
                    { text: "–ó–∞—á–µ–º —Ç—ã –ø–æ–≤—Ç–æ—Ä—è–µ—à—å –≤—Å–µ –º–æ–∏ –¥–≤–∏–∂–µ–Ω–∏—è? ü§®", value: 3 },
                    { text: "–Ø –∑–Ω–∞—é, —á—Ç–æ —Ç—ã –∑–Ω–∞–µ—à—å, —á—Ç–æ —è –∑–Ω–∞—é... üïµÔ∏è", value: 4 }
                ]
            },
            {
                text: "–°–ö–û–õ–¨–ö–û –í–†–ï–ú–ï–ù–ò –¢–´ –¢–†–ê–¢–ò–®–¨ –ù–ê –ú–´–°–õ–ò –û –¢–û–ú, –ß–¢–û –î–£–ú–ê–Æ–¢ –û –¢–ï–ë–ï –î–†–£–ì–ò–ï?",
                type: "slider",
                min: 0,
                max: 100,
                step: 5
            },
            {
                text: "–ö–ê–ö–û–ô –ó–ê–ü–ê–• –£ –¢–í–û–ï–ì–û –ë–£–î–£–©–ï–ì–û?",
                type: "multiple",
                options: [
                    { text: "–°–≤–µ–∂–µ–∏—Å–ø–µ—á–µ–Ω–Ω—ã–π —Ö–ª–µ–± –∏ –Ω–∞–¥–µ–∂–¥–∞ üçû", value: 1 },
                    { text: "–û–∑–æ–Ω –ø–æ—Å–ª–µ –≥—Ä–æ–∑—ã –∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ—Å—Ç—å ‚ö°", value: 2 },
                    { text: "–°—Ç–∞—Ä—ã–µ –∫–Ω–∏–≥–∏ –∏ –ø—ã–ª—å –≤—Ä–µ–º–µ–Ω–∏ üìö", value: 3 },
                    { text: "–ì–æ—Ä—è—â–∞—è –ø–ª–∞—Å—Ç–º–∞—Å—Å–∞ –∏ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ üî•", value: 4 }
                ]
            },
            {
                text: "–ï–°–õ–ò –ë–´ –¢–í–û–ô –ú–û–ó–ì –ë–´–õ –ú–ï–ë–ï–õ–¨–Æ, –ß–¢–û –ë–´ –≠–¢–û –ë–´–õ–û?",
                type: "multiple",
                options: [
                    { text: "–ê–Ω—Ç–∏–∫–≤–∞—Ä–Ω—ã–π –∫–æ–º–æ–¥ —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ —è—â–∏–∫–∞–º–∏ üóÑÔ∏è", value: 1 },
                    { text: "–ö—Ä–µ—Å–ª–æ-–∫–∞—á–∞–ª–∫–∞ –Ω–∞ –∫—Ä–∞—é –æ–±—Ä—ã–≤–∞ ü™ë", value: 2 },
                    { text: "–†–∞—Å–∫–ª–∞–¥–Ω–æ–π –¥–∏–≤–∞–Ω, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è üõãÔ∏è", value: 3 },
                    { text: "–ü–æ–ª–∫–∞ –ò–ö–ï–ê —Å –Ω–µ–¥–æ—Å—Ç–∞—é—â–µ–π –¥–µ—Ç–∞–ª—å—é üì¶", value: 4 }
                ]
            },
            {
                text: "–ö–ê–ö–û–ô –§–û–†–ú–´ –¢–í–û–ò –ú–´–°–õ–ò?",
                type: "multiple",
                options: [
                    { text: "–û—Å—Ç—Ä—ã–µ —É–≥–ª—ã –∏ —á–µ—Ç–∫–∏–µ –ª–∏–Ω–∏–∏ üìê", value: 1 },
                    { text: "–ü–ª–∞–≤–Ω—ã–µ –∏–∑–≥–∏–±—ã –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Å–ø–∏—Ä–∞–ª–∏ üåÄ", value: 2 },
                    { text: "–§—Ä–∞–∫—Ç–∞–ª—ã, —É—Ö–æ–¥—è—â–∏–µ –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å ‚ùÑÔ∏è", value: 3 },
                    { text: "–ê–º–æ—Ä—Ñ–Ω—ã–µ –æ–±–ª–∞–∫–∞ –±–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º—ã ‚òÅÔ∏è", value: 4 }
                ]
            }
        ];

        const personalityTypes = [
            {
                name: "–•–†–û–ù–ò–ß–ï–°–ö–ò–ô –û–ü–¢–ò–ú–ò–°–¢ üåû",
                description: "–¢–≤–æ—è –ø—Å–∏—Ö–∏–∫–∞ –∏–∑–ª—É—á–∞–µ—Ç —Å–≤–µ—Ç –¥–∞–∂–µ –≤ –ø–∞—Å–º—É—Ä–Ω—ã–π –¥–µ–Ω—å"
            },
            {
                name: "–õ–ê–ë–ò–†–ò–ù–¢–û–§–û–ë –í –°–¢–ê–î–ò–ò –†–ï–ú–ò–°–°–ò–ò üåÄ",
                description: "–¢—ã –±–æ–∏—à—å—Å—è —Å–ª–æ–∂–Ω—ã—Ö –ø—É—Ç–µ–π, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ –Ω–∏–º –∏–¥–µ—à—å"
            },
            {
                name: "–ö–í–ê–ù–¢–û–í–´–ô –ù–ï–í–†–û–¢–ò–ö ‚öõÔ∏è",
                description: "–¢–≤–æ–∏ –º—ã—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ 5 —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"
            },
            {
                name: "–≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ô –ê–ö–†–û–ë–ê–¢ ü§∏",
                description: "–û—Ç –¥–µ–ø—Ä–µ—Å—Å–∏–∏ –¥–æ —ç–π—Ñ–æ—Ä–∏–∏ –∑–∞ 0.5 —Å–µ–∫—É–Ω–¥—ã"
            },
            {
                name: "–§–ò–õ–û–°–û–§–°–ö–ò–ô –•–ê–û–¢–ò–ö üé≠",
                description: "–ó–∞–¥–∞—ë—à—å –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ—Ç –æ—Ç–≤–µ—Ç–æ–≤"
            },
            {
                name: "–ü–†–ê–ì–ú–ê–¢–ò–ß–ù–´–ô –ú–ï–ß–¢–ê–¢–ï–õ–¨ üíº",
                description: "–°—Ç—Ä–æ–∏—à—å –∑–∞–º–∫–∏ –≤ –≤–æ–∑–¥—É—Ö–µ, –Ω–æ —Å —á–µ—Ä—Ç–µ–∂–∞–º–∏"
            },
            {
                name: "–ü–°–ò–•–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –ö–û–¢ –®–†–Å–î–ò–ù–ì–ï–†–ê üê±",
                description: "–¢—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –≤ –ø–æ—Ä—è–¥–∫–µ, –∏ –Ω–µ—Ç"
            },
            {
                name: "–≠–ö–ó–ò–°–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ô –°–´–©–ò–ö üîç",
                description: "–ò—â–µ—à—å —Å–º—ã—Å–ª –∂–∏–∑–Ω–∏ –≤ –∫–∞–∂–¥–æ–º —É–≥–ª—É"
            },
            {
                name: "–í–ò–ë–†–ê–¶–ò–û–ù–ù–´–ô –•–ê–ú–°–¢–ï–† üêπ",
                description: "–ë–µ–∂–∏—à—å –≤ –∫–æ–ª–µ—Å–µ —Å—É–¥—å–±—ã, –Ω–æ –Ω–µ –¥–≤–∏–≥–∞–µ—à—å—Å—è —Å –º–µ—Å—Ç–∞"
            },
            {
                name: "–ú–ï–¢–ê–§–ò–ó–ò–ß–ï–°–ö–ò–ô –ë–£–ù–¢–ê–†–¨ üí•",
                description: "–ü—Ä–æ—Ç–µ—Å—Ç—É–µ—à—å –ø—Ä–æ—Ç–∏–≤ –∑–∞–∫–æ–Ω–æ–≤ –≤—Å–µ–ª–µ–Ω–Ω–æ–π"
            },
            {
                name: "–°–ï–ù–°–û–†–ù–´–ô –ê–õ–•–ò–ú–ò–ö üß™",
                description: "–ü—Ä–µ–≤—Ä–∞—â–∞–µ—à—å —Ö–∞–æ—Å –≤ –Ω–µ—á—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ"
            },
            {
                name: "–ù–ï–ô–†–û–ù–ù–´–ô –ü–ò–õ–ò–ì–†–ò–ú üö∂",
                description: "–ü—É—Ç–µ—à–µ—Å—Ç–≤—É–µ—à—å –ø–æ –∏–∑–≤–∏–ª–∏–Ω–∞–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –º–æ–∑–≥–∞"
            },
            {
                name: "–ü–°–ò–•–û–°–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –û–†–ö–ï–°–¢–† üéª",
                description: "–¢–≤–æ–∏ —ç–º–æ—Ü–∏–∏ –∏–≥—Ä–∞—é—Ç —Å–∏–º—Ñ–æ–Ω–∏—é –Ω–∞ –Ω–µ—Ä–≤–∞—Ö"
            },
            {
                name: "–ö–û–°–ú–ò–ß–ï–°–ö–ò–ô –ù–û–ú–ê–î üöÄ",
                description: "–ë–ª—É–∂–¥–∞–µ—à—å –ø–æ –≥–∞–ª–∞–∫—Ç–∏–∫–∞–º —Å–≤–æ–µ–≥–æ —Å–æ–∑–Ω–∞–Ω–∏—è"
            },
            {
                name: "–í–ò–†–¢–£–ê–õ–¨–ù–´–ô –®–ê–ú–ê–ù üíª",
                description: "–ò—â–µ—à—å –¥—É—Ö–æ–≤–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ"
            }
        ];

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        let currentScreen = 'welcome-screen';
        let currentQuestion = 0;
        let answers = [];
        let selectedEmojis = [];

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const screens = {
            welcome: document.getElementById('welcome-screen'),
            calibration: document.getElementById('calibration-screen'),
            question: document.getElementById('question-screen'),
            analysis: document.getElementById('analysis-screen'),
            result: document.getElementById('result-screen')
        };

        const startBtn = document.getElementById('start-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const restartBtn = document.getElementById('restart-btn');

        const questionNumber = document.getElementById('question-number');
        const questionText = document.getElementById('question-text');
        const questionOptions = document.getElementById('question-options');

        const calibrationText = document.getElementById('calibration-text');
        const calibrationProgress = document.getElementById('calibration-progress');

        const analysisProgress = document.getElementById('analysis-progress');
        const analysisEffects = document.getElementById('analysis-effects');

        const resultType = document.getElementById('result-type');
        const resultDescription = document.getElementById('result-description');
        const normalityGauge = document.getElementById('normality-gauge');
        const specialGauge = document.getElementById('special-gauge');
        const normalityValue = document.getElementById('normality-value');
        const specialValue = document.getElementById('special-value');
        const chartLine = document.getElementById('chart-line');
        const certificateType = document.getElementById('certificate-type');
        const certificateDate = document.getElementById('certificate-date');
        const neuralNetwork = document.getElementById('neuralNetwork');
        const resultPanel = document.getElementById('result-panel');
        const certificate = document.getElementById('certificate');

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞—Ç—ã –≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
            const now = new Date();
            certificateDate.textContent = now.toLocaleDateString('ru-RU');
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
            createNeuralNetwork();
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
            startBtn.addEventListener('click', startCalibration);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            restartBtn.addEventListener('click', restartTest);
        });

        // –§—É–Ω–∫—Ü–∏–∏
        function showScreen(screenId) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            Object.values(screens).forEach(screen => {
                screen.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
            setTimeout(() => {
                screens[screenId].classList.add('active');
                currentScreen = screenId;
            }, 300);
        }

        function startCalibration() {
            showScreen('calibration');
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2;
                calibrationProgress.style.width = `${progress}%`;
                
                if (progress <= 30) {
                    calibrationText.textContent = "–ö–ê–õ–ò–ë–†–û–í–ö–ê –ù–ï–ô–†–û–ù–û–í...";
                } else if (progress <= 60) {
                    calibrationText.textContent = "–ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –í–ò–ë–†–ê–¶–ò–ô...";
                } else if (progress <= 90) {
                    calibrationText.textContent = "–°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ß–ê–ö–†...";
                } else {
                    calibrationText.textContent = "–ì–û–¢–û–í –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ!";
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    // –ó–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª (—ç–º—É–ª–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ –≤–∏–±—Ä–∞—Ü–∏—é, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
                    if (navigator.vibrate) {
                        navigator.vibrate(200);
                    }
                    
                    setTimeout(() => {
                        showQuestion(0);
                    }, 1000);
                }
            }, 50);
        }

        function showQuestion(index) {
            currentQuestion = index;
            showScreen('question');
            
            const question = questions[index];
            questionNumber.textContent = `–í–û–ü–†–û–° ${index + 1}`;
            questionText.textContent = question.text;
            questionOptions.innerHTML = '';
            nextQuestionBtn.disabled = true;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–æ–ø—Ä–æ—Å–∞
            setTimeout(() => {
                questionNumber.classList.add('slide-in');
                questionText.classList.add('slide-in');
            }, 100);
            
            setTimeout(() => {
                switch (question.type) {
                    case 'multiple':
                        question.options.forEach((option, i) => {
                            const optionElement = document.createElement('div');
                            optionElement.className = 'option';
                            optionElement.textContent = option.text;
                            optionElement.addEventListener('click', () => {
                                // –°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
                                document.querySelectorAll('.option').forEach(opt => {
                                    opt.classList.remove('selected');
                                });
                                // –í—ã–¥–µ–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
                                optionElement.classList.add('selected');
                                answers[index] = option.value;
                                nextQuestionBtn.disabled = false;
                            });
                            questionOptions.appendChild(optionElement);
                            
                            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
                            setTimeout(() => {
                                optionElement.classList.add('show');
                            }, 100 * i);
                        });
                        break;
                        
                    case 'slider':
                        const sliderContainer = document.createElement('div');
                        sliderContainer.className = 'slider-container';
                        
                        const slider = document.createElement('input');
                        slider.type = 'range';
                        slider.min = question.min;
                        slider.max = question.max;
                        slider.step = question.step;
                        slider.value = 0;
                        slider.className = 'slider';
                        
                        const valueDisplay = document.createElement('div');
                        valueDisplay.className = 'slider-value';
                        valueDisplay.textContent = `${slider.value} ${index === 8 ? '%' : '–∫–≥'}`;
                        
                        slider.addEventListener('input', () => {
                            valueDisplay.textContent = `${slider.value} ${index === 8 ? '%' : '–∫–≥'}`;
                            answers[index] = parseInt(slider.value);
                            nextQuestionBtn.disabled = false;
                        });
                        
                        sliderContainer.appendChild(slider);
                        sliderContainer.appendChild(valueDisplay);
                        questionOptions.appendChild(sliderContainer);
                        
                        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–æ–ª–∑—É–Ω–∫–∞
                        setTimeout(() => {
                            sliderContainer.style.opacity = '1';
                            sliderContainer.style.transform = 'translateY(0)';
                        }, 300);
                        break;
                        
                    case 'color':
                        const palette = document.createElement('div');
                        palette.className = 'color-palette';
                        
                        question.colors.forEach((color, i) => {
                            const colorOption = document.createElement('div');
                            colorOption.className = 'color-option';
                            colorOption.style.backgroundColor = color;
                            colorOption.addEventListener('click', () => {
                                // –°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏—Ö —Ü–≤–µ—Ç–æ–≤
                                document.querySelectorAll('.color-option').forEach(opt => {
                                    opt.classList.remove('selected');
                                });
                                // –í—ã–¥–µ–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç
                                colorOption.classList.add('selected');
                                answers[index] = color;
                                nextQuestionBtn.disabled = false;
                            });
                            palette.appendChild(colorOption);
                            
                            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
                            setTimeout(() => {
                                colorOption.classList.add('show');
                            }, 100 * i);
                        });
                        
                        questionOptions.appendChild(palette);
                        break;
                        
                    case 'number':
                        const input = document.createElement('input');
                        input.type = 'number';
                        input.min = 0;
                        input.max = 100;
                        input.className = 'number-input';
                        
                        input.addEventListener('input', () => {
                            answers[index] = parseInt(input.value) || 0;
                            nextQuestionBtn.disabled = !input.value;
                        });
                        
                        questionOptions.appendChild(input);
                        
                        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–æ–ª—è –≤–≤–æ–¥–∞
                        setTimeout(() => {
                            input.classList.add('show');
                        }, 300);
                        break;
                        
                    case 'emoji':
                        const emojiContainer = document.createElement('div');
                        emojiContainer.className = 'emoji-container';
                        selectedEmojis = [];
                        
                        question.emojis.forEach((emoji, i) => {
                            const emojiElement = document.createElement('div');
                            emojiElement.className = 'emoji';
                            emojiElement.textContent = emoji;
                            emojiElement.addEventListener('click', () => {
                                if (selectedEmojis.includes(emoji)) {
                                    // –£–¥–∞–ª–∏—Ç—å —ç–º–æ–¥–∑–∏ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö
                                    selectedEmojis = selectedEmojis.filter(e => e !== emoji);
                                    emojiElement.classList.remove('selected');
                                } else if (selectedEmojis.length < 3) {
                                    // –î–æ–±–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
                                    selectedEmojis.push(emoji);
                                    emojiElement.classList.add('selected');
                                }
                                
                                // –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
                                nextQuestionBtn.disabled = selectedEmojis.length !== 3;
                            });
                            emojiContainer.appendChild(emojiElement);
                            
                            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–º–æ–¥–∑–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
                            setTimeout(() => {
                                emojiElement.classList.add('show');
                            }, 80 * i);
                        });
                        
                        questionOptions.appendChild(emojiContainer);
                        break;
                }
            }, 500);
        }

        function nextQuestion() {
            if (currentQuestion === questions.length - 1) {
                // –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å - –Ω–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑
                startAnalysis();
            } else {
                // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
                showQuestion(currentQuestion + 1);
            }
        }

        function startAnalysis() {
            showScreen('analysis');
            
            // –î–æ–±–∞–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã –≤–∏–±—Ä–∞—Ü–∏–∏
            document.body.classList.add('vibrate');
            analysisEffects.innerHTML = '<div class="warning blink glitch">–°–ò–°–¢–ï–ú–ù–´–ô –°–ë–û–ô! –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–ï–†–ï–ì–†–£–ó–ö–ê!</div>';
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2;
                analysisProgress.style.width = `${progress}%`;
                
                // –°–ª—É—á–∞–π–Ω–æ–µ –º–∏–≥–∞–Ω–∏–µ —Ü–≤–µ—Ç–æ–º
                if (progress % 10 === 0) {
                    document.body.classList.add('color-change');
                    setTimeout(() => {
                        document.body.classList.remove('color-change');
                    }, 300);
                }
                
                // –≠–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —á–µ—Ä–µ–∑ –≤–∏–±—Ä–∞—Ü–∏—é
                if (progress % 15 === 0 && navigator.vibrate) {
                    navigator.vibrate(100);
                }
                
                // –î–æ–±–∞–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≥–ª–∏—Ç—á–∞
                if (progress % 20 === 0) {
                    analysisEffects.innerHTML += '<div class="glitch" style="color:#ff0000; margin:10px;">–û–®–ò–ë–ö–ê #' + Math.floor(Math.random() * 1000) + '</div>';
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    document.body.classList.remove('vibrate');
                    
                    // –í—ã—á–∏—Å–ª–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                    setTimeout(showResults, 1000);
                }
            }, 100);
        }

        function showResults() {
            showScreen('result');
            
            // –í—ã—á–∏—Å–ª–∏—Ç—å —Ç–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–≤–µ—Ç–æ–≤
            const personalityIndex = calculatePersonalityIndex();
            const personality = personalityTypes[personalityIndex];
            
            resultType.textContent = personality.name;
            resultDescription.textContent = personality.description;
            certificateType.textContent = personality.name;
            
            // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —à–∫–∞–ª–∞—Ö
            const normality = Math.floor(Math.random() * 50); // –í—Å–µ–≥–¥–∞ <50%
            const special = 100 - normality;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            setTimeout(() => {
                resultPanel.classList.add('show');
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —à–∫–∞–ª
                setTimeout(() => {
                    normalityGauge.style.width = `${normality}%`;
                    specialGauge.style.width = `${special}%`;
                    normalityValue.textContent = `${normality}%`;
                    specialValue.textContent = `${special}%`;
                    
                    // –°–æ–∑–¥–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–ª–µ–±–∞–Ω–∏–π
                    createEmotionalChart();
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
                    setTimeout(() => {
                        certificate.classList.add('show');
                    }, 1000);
                }, 500);
            }, 500);
        }

        function calculatePersonalityIndex() {
            // –ü—Ä–æ—Å—Ç–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –ª–∏—á–Ω–æ—Å—Ç–∏
            let score = 0;
            
            answers.forEach((answer, index) => {
                if (questions[index].type === 'multiple') {
                    score += answer;
                } else if (questions[index].type === 'slider') {
                    score += Math.abs(answer) / 10;
                } else if (questions[index].type === 'number') {
                    score += answer / 10;
                } else if (questions[index].type === 'color') {
                    score += 5; // –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Ü–≤–µ—Ç–∞
                } else if (questions[index].type === 'emoji') {
                    score += 10; // –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —ç–º–æ–¥–∑–∏
                }
            });
            
            return Math.min(Math.floor(score / 2), personalityTypes.length - 1);
        }

        function createEmotionalChart() {
            // –°–æ–∑–¥–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–ª–µ–±–∞–Ω–∏–π
            chartLine.innerHTML = '';
            const points = [];
            const width = document.querySelector('.chart').offsetWidth;
            const height = document.querySelector('.chart').offsetHeight;
            
            for (let i = 0; i < 10; i++) {
                const x = (i / 9) * width;
                const y = height - (Math.random() * height);
                points.push(`${x},${y}`);
            }
            
            const polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');
            polyline.setAttribute('points', points.join(' '));
            polyline.setAttribute('fill', 'none');
            polyline.setAttribute('stroke', '#10b981');
            polyline.setAttribute('stroke-width', '2');
            
            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.setAttribute('width', '100%');
            svg.setAttribute('height', '100%');
            svg.appendChild(polyline);
            
            chartLine.appendChild(svg);
        }

        function createNeuralNetwork() {
            // –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
            const canvas = document.createElement('canvas');
            neuralNetwork.appendChild(canvas);
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const nodes = [];
            const connections = [];
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–æ–≤
            for (let i = 0; i < 15; i++) {
                nodes.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 0.5,
                    vy: (Math.random() - 0.5) * 0.5
                });
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
            for (let i = 0; i < nodes.length; i++) {
                for (let j = i + 1; j < nodes.length; j++) {
                    if (Math.random() > 0.7) {
                        connections.push({ from: i, to: j });
                    }
                }
            }
            
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π —É–∑–ª–æ–≤
                for (let node of nodes) {
                    node.x += node.vx;
                    node.y += node.vy;
                    
                    if (node.x < 0 || node.x > canvas.width) node.vx *= -1;
                    if (node.y < 0 || node.y > canvas.height) node.vy *= -1;
                }
                
                // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
                ctx.strokeStyle = 'rgba(139, 92, 246, 0.2)';
                ctx.lineWidth = 1;
                
                for (let connection of connections) {
                    const from = nodes[connection.from];
                    const to = nodes[connection.to];
                    
                    const dx = from.x - to.x;
                    const dy = from.y - to.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 200) {
                        ctx.globalAlpha = 1 - distance / 200;
                        ctx.beginPath();
                        ctx.moveTo(from.x, from.y);
                        ctx.lineTo(to.x, to.y);
                        ctx.stroke();
                    }
                }
                
                // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —É–∑–ª–æ–≤
                ctx.fillStyle = '#10b981';
                for (let node of nodes) {
                    ctx.globalAlpha = 0.5;
                    ctx.beginPath();
                    ctx.arc(node.x, node.y, 2, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                requestAnimationFrame(animate);
            }
            
            animate();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ canvas –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }

        function restartTest() {
            currentQuestion = 0;
            answers = [];
            selectedEmojis = [];
            
            // –°–±—Ä–æ—Å –∞–Ω–∏–º–∞—Ü–∏–π
            resultPanel.classList.remove('show');
            certificate.classList.remove('show');
            normalityGauge.style.width = '0%';
            specialGauge.style.width = '0%';
            
            showScreen('welcome-screen');
        }
    </script>
</body>
</html>
